var e=(e,t,n)=>[e,t,null,n==null?[]:Object.entries(n)];let t=(...e)=>Object.assign(Object.create(null),...e);let n=(e,n,r,...i)=>[e,n,r,t(...i)];let r=(...e)=>n(`GET`,...e);let i=(...e)=>n(`POST`,...e);let a=(e,t)=>[1,t,e];let o=e=>[e,null,null,null,null];let s=e=>[e,null];let c=(e,t)=>[t,e[1],e[2],e[3],e[4]];let l=(e,t,n)=>{e[0]=t;e[2]=n;e[1]=null;e[3]=null;e[4]=null};let u=(e,t)=>{for(let n=0;n<t.length;++n){let r=t[n];if(n!==0)if(e[3]===null){let t=o(r);e[3]=s(t);e=t}else e=e[3][0]??=o(r);for(let t=0;;++t){let n=e[0];if(t===r.length){if(t<n.length){let i=[];i[n.charCodeAt(t)]=c(e,n.slice(t));l(e,r,i)}break}if(t===n.length){if(e[2]===null)e[2]=[];else{let n=e[2][r.charCodeAt(t)];if(n!=null){e=n;r=r.slice(t);t=0;continue}}let n=o(r.slice(t));e[2][r.charCodeAt(t)]=n;e=n;break}if(r[t]!==n[t]){let i=[];i[n.charCodeAt(t)]=c(e,n.slice(t));let a=o(r.slice(t));i[r.charCodeAt(t)]=a;l(e,n.substring(0,t),i);e=a;break}}}return e};let d=(e,t,n)=>{if(t[t.length-1]===`*`)if(t[t.length-2]===`*`)u(e,t.slice(0,-2).split(`*`))[4]=n;else (u(e,t.slice(0,-1).split(`*`))[3]??=s(null))[1]=n;else u(e,t.split(`*`))[1]=n};let f=()=>[[],null];let p=(e,t,n)=>{if(t.includes(`*`))d(e[1]??=o(`/`),t,n);else e[0].push([t,n])};let m=e=>{let t=e.endsWith(`**`)?2:0;for(let n=e.length-t;(n=e.lastIndexOf(`*`,n-1))!==-1;t++);return t};let h=(e,t,n,r)=>{p(e[t]??=f(),n,r)};let g=e=>{let t=e.length;let n=new Array(t+1);for(let r=1;r<=t;r++)n[r]=e.slice(0,r).join();return n};let _=(e,t)=>{let n=e+t;return/.\/$/.test(n)?e:n};let v=(async()=>{}).constructor;let y=new Array(5);let b=(e,t,n,r)=>{if(e[2]!=null){t[2]=e[2];t[3]=null}for(let n=0,i=e[0];n<i.length;n++){let e=i[n];let a=e[1];let o=`f`+y[1].push(a)+`(`;if(a.length>0){o+=`c`;if(!t[1]){t[1]=true;r+=y[2];if(t[2]!==null)t[3]=null}}o+=`);`;if(a instanceof v){o=`await `+o;if(!t[0]){t[0]=true;r+=`return (async()=>{`;if(t[2]!==null)t[3]=null}}if((e[0]&1)===1){if(!t[1]){t[1]=true;r+=y[2];if(t[2]!==null)t[3]=null}o=`c.`+e[2]+`=`+o}r+=e[0]>1?`{let t=`+o+`if(me(t)){`+(t[3]??=y[4](t[2][0],t[2][1],t))+`}}`:o}for(let i=0,a=e[1],o=t[0]?`})()`:``;i<a.length;i++){let e=a[i];let s=_(n,e[1]);h(y[0],e[0],s,r+y[3](e[2],e[3],s,t)+o)}for(let i=0,a=e[3];i<a.length;i++)b(a[i][1],[...t],a[i][0]===`/`?n:n+a[i][0],r)};let x=e=>String.fromCharCode(+e[0]);let S=(e,t,n,r)=>{let i=`{`;let a=e[1]===null;let o=e[0].length;let s=r+(n+o);if(o>1){let t=r+(n+1);i=o===2?`if(l`+(a?`>`:`>=`)+s+`)if(p[`+t+`]==="`+e[0][1]+`"){`:(a?`if(l>`+s+`)if(`:`if(`)+`p.startsWith("`+e[0].slice(1)+`",`+t+`)){`}else if(a)i=`if(l>`+s+`){`;n+=o;if(!a)i+=`if(l===`+s+`){`+e[1]+`}`;if(e[2]!==null){let a=Object.entries(e[2]);if(a.length===1)i+=`if(p[`+s+`]==="`+x(a[0])+`"){`+S(a[0][1],t,n,r)+`}`;else{i+=`switch(p[`+s+`]){`;for(let e=0;e<a.length;e++)i+=`case"`+x(a[e])+`":`+S(a[e][1],t,n,r)+`break;`;i+=`}`}}if(e[3]!==null){let n=e[3];let r=n[1]!==null;let a=n[0]!==null;if(t>0){i+=`let i=`+s+`;`;s=`i`}let o=`p.indexOf("/"`+(s===`0`?``:`,`+s)+`)`;if(a||!r){i+=(t>0?``:`let `)+`j=`+o+`;`;o=`j`}if(r)i+=`if(`+o+`===-1){let q`+t+`=`+(s===`0`?`p`:`p.slice(`+s+`)`)+`;`+n[1]+`}`;if(a)i+=(r?`else if(`:`if(`)+`j>`+s+`){let q`+t+`=p.slice(`+s+`,j);`+S(n[0],t+1,0,`j+`)+`}`}if(e[4]!==null)i+=`let q`+t+`=`+(s===`0`?`p`:`p.slice(`+s+`)`)+`;`+e[4];return i+`}`};var C=(e,t)=>{let n=``;for(let r=0,i=e[0];r<i.length;r++)n+=(n===``?`if(`:`else if(`)+`p==="`+i[r][0].slice(t)+`"){`+i[r][1]+`}`;return n+(e[1]===null?``:`{let l=p.length;`+S(e[1],0,-t,``)+`}`)};var w=(e,t,n,r)=>{let i=e[``];let a=``;for(let o in e)if(o!==``)a+=(a===``?`if(`:`else if(`)+t+`==="`+o+`"){`+(i==null?n:``)+C(e[o],r)+`}`;return i==null?a:n+a+C(i,r)};let T=[];let E=e=>Array.isArray(e)&&e[0]===T;let D=e=>[T,e];let O=e=>e.catch(D);let k=e=>(...t)=>O(e(...t));let A=k(fetch);var j=(e,t)=>({status:200,req:e,headers:t});let M=g(new Array(16).fill(0).map((e,t)=>`q`+t));let N=(e,t,n,r,i)=>{let a=e.type;if(a===`raw`)return`return `+i;if(t)i=`await `+i;let o=a==null?`return new Response(`+i+(r?`,c)`:`)`):r?`mh.push(`+(a===`json`?`mwj`:`mwh`)+`);return new Response(`+(a===`json`?`JSON.stringify(`+i+`)`:i)+`,c)`:`return new Response(`+(a===`json`?`JSON.stringify(`+i+`),mwoj`:i+`,mwoh`)+`)`;return n?o+`})()`:t?`return (async()=>{`+o+`})()`:o};let P=(e,t,n,r)=>{let i=`f`+y[1].push(e)+`(`;let a=m(n);if(a>0)i+=M[a];if(e.length>a){i+=a===0?`c`:`,c`;if(!r[1])return y[2]+N(t,e instanceof v,r[0],true,i+`)`)}return N(t,e instanceof v,r[0],r[1],i+`)`)};let F=(e,t,n)=>{let r=`f`+y[1].push(e)+`(t`;if(e.length>1){r+=`,c`;if(!n[1])return y[2]+N(t,e instanceof v,n[0],true,r+`)`)}return N(t,e instanceof v,n[0],n[1],r+`)`)};var I=e=>{y[0]={};y[1]=[];y[2]=`let mh=[],c=mwc(r,mh);`;y[3]=P;y[4]=F;b(e,[false,false,null,`return mwb`],``,``);return Function(`me`,`mwc`,...y[1].map((e,t)=>`f`+(t+1)),`"use strict";var t=["text/html","application/json"].map(c=>["Content-Type",c]),[mwh,mwj]=t,[mwoh,mwoj]=t.map(c=>({headers:[c]})),[mwn,mwb]=[404,400].map(s=>new Response(null,{status:s}));return(r)=>{`+w(y[0],`r.method`,`let u=r.url,s=u.indexOf("/",12)+1,e=u.indexOf("?",s),p=e===-1?u.slice(s):u.slice(s,e);`,1)+`return mwn}`)(E,j,...y[1])};let L=a(`body`,async e=>e.req.text());let R=a(`body`,async e=>e.req.blob());let z=a(`body`,async e=>e.req.bytes());I(e([],[r(`/`,()=>`Hi`),r(`/user/*`,e=>e),i(`/body`,async e=>e.req.json())]))(new Request(`http://127.0.0.1`));