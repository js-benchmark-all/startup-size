var e;function t(t){return{lang:t?.lang??e?.lang,message:t?.message,abortEarly:t?.abortEarly??e?.abortEarly,abortPipeEarly:t?.abortPipeEarly??e?.abortPipeEarly}}var n;function r(e){return n?.get(e)}var i;function a(e){return i?.get(e)}var o;function s(e,t){return o?.get(e)?.get(t)}function c(e){const t=typeof e;if(t===`string`)return`"${e}"`;if(t===`number`||t===`bigint`||t===`boolean`)return`${e}`;if(t===`object`||t===`function`)return(e&&Object.getPrototypeOf(e)?.constructor?.name)??`null`;return t}function l(e,t,n,i,o){const l=o&&`input`in o?o.input:n.value;const u=o?.expected??e.expects??null;const d=o?.received??c(l);const f={kind:e.kind,type:e.type,input:l,expected:u,received:d,message:`Invalid ${t}: ${u?`Expected ${u} but r`:`R`}eceived ${d}`,requirement:e.requirement,path:o?.path,issues:o?.issues,lang:i.lang,abortEarly:i.abortEarly,abortPipeEarly:i.abortPipeEarly};const p=e.kind===`schema`;const m=o?.message??e.message??s(e.reference,f.lang)??(p?a(f.lang):null)??i.message??r(f.lang);if(m!==void 0)f.message=typeof m===`function`?m(f):m;if(p)n.typed=false;if(n.issues)n.issues.push(f);else n.issues=[f]}function u(e){return{version:1,vendor:`valibot`,validate(n){return e[`~run`]({value:n},t())}}}var d=class extends Error{constructor(e){super(e[0].message);this.name=`ValiError`;this.issues=e}};function f(e,t){const n=e[`~run`]({value:t},{abortEarly:true}).issues;if(n)throw new d(n)}function p(e,t,n){return typeof e.fallback===`function`?e.fallback(t,n):e.fallback}function m(e,t,n){return typeof e.default===`function`?e.default(t,n):e.default}function h(e,t){return{kind:`schema`,type:`array`,reference:h,expects:`Array`,async:false,item:e,message:t,get"~standard"(){return u(this)},"~run"(e,t){const n=e.value;if(Array.isArray(n)){e.typed=true;e.value=[];for(let r=0;r<n.length;r++){const i=n[r];const a=this.item[`~run`]({value:i},t);if(a.issues){const o={type:`array`,origin:`value`,input:n,key:r,value:i};for(const t of a.issues){if(t.path)t.path.unshift(o);else t.path=[o];e.issues?.push(t)}if(!e.issues)e.issues=a.issues;if(t.abortEarly){e.typed=false;break}}if(!a.typed)e.typed=false;e.value.push(a.value)}}else l(this,`type`,e,t);return e}}}function g(e){return{kind:`schema`,type:`boolean`,reference:g,expects:`boolean`,async:false,message:e,get"~standard"(){return u(this)},"~run"(e,t){if(typeof e.value===`boolean`)e.typed=true;else l(this,`type`,e,t);return e}}}function _(e){return{kind:`schema`,type:`number`,reference:_,expects:`number`,async:false,message:e,get"~standard"(){return u(this)},"~run"(e,t){if(typeof e.value===`number`&&!isNaN(e.value))e.typed=true;else l(this,`type`,e,t);return e}}}function v(e,t){return{kind:`schema`,type:`object`,reference:v,expects:`Object`,async:false,entries:e,message:t,get"~standard"(){return u(this)},"~run"(e,t){const n=e.value;if(n&&typeof n===`object`){e.typed=true;e.value={};for(const r in this.entries){const i=this.entries[r];if(r in n||(i.type===`exact_optional`||i.type===`optional`||i.type===`nullish`)&&i.default!==void 0){const a=r in n?n[r]:m(i);const o=i[`~run`]({value:a},t);if(o.issues){const i={type:`object`,origin:`value`,input:n,key:r,value:a};for(const t of o.issues){if(t.path)t.path.unshift(i);else t.path=[i];e.issues?.push(t)}if(!e.issues)e.issues=o.issues;if(t.abortEarly){e.typed=false;break}}if(!o.typed)e.typed=false;e.value[r]=o.value}else if(i.fallback!==void 0)e.value[r]=p(i);else if(i.type!==`exact_optional`&&i.type!==`optional`&&i.type!==`nullish`){l(this,`key`,e,t,{input:void 0,expected:`"${r}"`,path:[{type:`object`,origin:`key`,input:n,key:r,value:n[r]}]});if(t.abortEarly)break}}}else l(this,`type`,e,t);return e}}}function y(e){return{kind:`schema`,type:`string`,reference:y,expects:`string`,async:false,message:e,get"~standard"(){return u(this)},"~run"(e,t){if(typeof e.value===`string`)e.typed=true;else l(this,`type`,e,t);return e}}}var b=f.bind(null,v({number:_(),negNumber:_(),maxNumber:_(),string:y(),longString:y(),boolean:g(),deeplyNested:v({foo:y(),num:_(),bool:g()}),items:h(_())}));export{b as default};