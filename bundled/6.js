var e=Object.defineProperty;var t=(t,n)=>{for(var r in n)e(t,r,{get:n[r],enumerable:true})};function n(e){return d(e)&&!r(e)&&!ne(e)&&Symbol.asyncIterator in e}function r(e){return Array.isArray(e)}function i(e){return typeof e===`bigint`}function a(e){return typeof e===`boolean`}function o(e){return e instanceof globalThis.Date}function s(e){return typeof e===`function`}function c(e){return d(e)&&!r(e)&&!ne(e)&&Symbol.iterator in e}function l(e){return e===null}function u(e){return typeof e===`number`}function d(e){return typeof e===`object`&&e!==null}function ee(e){return e instanceof globalThis.RegExp}function f(e){return typeof e===`string`}function te(e){return typeof e===`symbol`}function ne(e){return e instanceof globalThis.Uint8Array}function p(e){return e===void 0}function re(e){return e.map(e=>ce(e))}function ie(e){return new Date(e.getTime())}function ae(e){return new Uint8Array(e)}function oe(e){return new RegExp(e.source,e.flags)}function se(e){const t={};for(const n of Object.getOwnPropertyNames(e))t[n]=ce(e[n]);for(const n of Object.getOwnPropertySymbols(e))t[n]=ce(e[n]);return t}function ce(e){return r(e)?re(e):o(e)?ie(e):ne(e)?ae(e):ee(e)?oe(e):d(e)?se(e):e}function le(e){return ce(e)}function ue(e,t){return t===void 0?le(e):le({...t,...e})}function de(e){return _e(e)&&globalThis.Symbol.asyncIterator in e}function fe(e){return _e(e)&&globalThis.Symbol.iterator in e}function pe(e){return e instanceof globalThis.Promise}function me(e){return e instanceof Date&&globalThis.Number.isFinite(e.getTime())}function he(e){return e instanceof globalThis.Uint8Array}function ge(e,t){return t in e}function _e(e){return e!==null&&typeof e===`object`}function m(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}function ve(e){return e===void 0}function ye(e){return e===null}function be(e){return typeof e===`boolean`}function h(e){return typeof e===`number`}function xe(e){return globalThis.Number.isInteger(e)}function g(e){return typeof e===`bigint`}function Se(e){return typeof e===`string`}function _(e){return typeof e===`function`}function v(e){return typeof e===`symbol`}function Ce(e){return g(e)||be(e)||ye(e)||h(e)||Se(e)||v(e)||ve(e)}var y;(function(e){e.InstanceMode=`default`;e.ExactOptionalPropertyTypes=false;e.AllowArrayObject=false;e.AllowNaN=false;e.AllowNullVoid=false;function t(t,n){return e.ExactOptionalPropertyTypes?n in t:t[n]!==void 0}e.IsExactOptionalProperty=t;function n(t){const n=_e(t);return e.AllowArrayObject?n:n&&!m(t)}e.IsObjectLike=n;function r(e){return n(e)&&!(e instanceof Date)&&!(e instanceof Uint8Array)}e.IsRecordLike=r;function i(t){return e.AllowNaN?h(t):Number.isFinite(t)}e.IsNumberLike=i;function a(t){const n=ve(t);return e.AllowNullVoid?n||t===null:n}e.IsVoidLike=a})(y||(y={}));function we(e){return globalThis.Object.freeze(e).map(e=>ke(e))}function Te(e){return e}function Ee(e){return e}function De(e){return e}function Oe(e){const t={};for(const n of Object.getOwnPropertyNames(e))t[n]=ke(e[n]);for(const n of Object.getOwnPropertySymbols(e))t[n]=ke(e[n]);return globalThis.Object.freeze(t)}function ke(e){return r(e)?we(e):o(e)?Te(e):ne(e)?Ee(e):ee(e)?De(e):d(e)?Oe(e):e}function b(e,t){const n=t!==void 0?{...t,...e}:e;switch(y.InstanceMode){case`freeze`:return ke(n);case`clone`:return le(n);default:return n}}var x=class extends Error{constructor(e){super(e)}};const Ae=Symbol.for(`TypeBox.Transform`);const je=Symbol.for(`TypeBox.Readonly`);const Me=Symbol.for(`TypeBox.Optional`);const Ne=Symbol.for(`TypeBox.Hint`);const S=Symbol.for(`TypeBox.Kind`);function Pe(e){return d(e)&&e[je]===`Readonly`}function Fe(e){return d(e)&&e[Me]===`Optional`}function Ie(e){return C(e,`Any`)}function Le(e){return C(e,`Argument`)}function Re(e){return C(e,`Array`)}function ze(e){return C(e,`AsyncIterator`)}function Be(e){return C(e,`BigInt`)}function Ve(e){return C(e,`Boolean`)}function He(e){return C(e,`Computed`)}function Ue(e){return C(e,`Constructor`)}function We(e){return C(e,`Date`)}function Ge(e){return C(e,`Function`)}function Ke(e){return C(e,`Integer`)}function qe(e){return C(e,`Intersect`)}function Je(e){return C(e,`Iterator`)}function C(e,t){return d(e)&&S in e&&e[S]===t}function Ye(e){return a(e)||u(e)||f(e)}function Xe(e){return C(e,`Literal`)}function Ze(e){return C(e,`MappedKey`)}function Qe(e){return C(e,`MappedResult`)}function $e(e){return C(e,`Never`)}function et(e){return C(e,`Not`)}function tt(e){return C(e,`Null`)}function nt(e){return C(e,`Number`)}function rt(e){return C(e,`Object`)}function it(e){return C(e,`Promise`)}function at(e){return C(e,`Record`)}function ot(e){return C(e,`Ref`)}function st(e){return C(e,`RegExp`)}function ct(e){return C(e,`String`)}function lt(e){return C(e,`Symbol`)}function ut(e){return C(e,`TemplateLiteral`)}function dt(e){return C(e,`This`)}function w(e){return d(e)&&Ae in e}function ft(e){return C(e,`Tuple`)}function pt(e){return C(e,`Undefined`)}function T(e){return C(e,`Union`)}function mt(e){return C(e,`Uint8Array`)}function ht(e){return C(e,`Unknown`)}function gt(e){return C(e,`Unsafe`)}function _t(e){return C(e,`Void`)}function vt(e){return d(e)&&S in e&&f(e[S])}function yt(e){return Ie(e)||Le(e)||Re(e)||Ve(e)||Be(e)||ze(e)||He(e)||Ue(e)||We(e)||Ge(e)||Ke(e)||qe(e)||Je(e)||Xe(e)||Ze(e)||Qe(e)||$e(e)||et(e)||tt(e)||nt(e)||rt(e)||it(e)||at(e)||ot(e)||st(e)||ct(e)||lt(e)||ut(e)||dt(e)||ft(e)||pt(e)||T(e)||mt(e)||ht(e)||gt(e)||_t(e)||vt(e)}const bt=[`Argument`,`Any`,`Array`,`AsyncIterator`,`BigInt`,`Boolean`,`Computed`,`Constructor`,`Date`,`Enum`,`Function`,`Integer`,`Intersect`,`Iterator`,`Literal`,`MappedKey`,`MappedResult`,`Not`,`Null`,`Number`,`Object`,`Promise`,`Record`,`Ref`,`RegExp`,`String`,`Symbol`,`TemplateLiteral`,`This`,`Tuple`,`Undefined`,`Union`,`Uint8Array`,`Unknown`,`Void`];function xt(e){try{new RegExp(e);return true}catch{return false}}function St(e){if(!f(e))return false;for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n>=7&&n<=13||n===27||n===127)return false}return true}function Ct(e){return Tt(e)||j(e)}function wt(e){return p(e)||i(e)}function E(e){return p(e)||u(e)}function Tt(e){return p(e)||a(e)}function D(e){return p(e)||f(e)}function Et(e){return p(e)||f(e)&&St(e)&&xt(e)}function Dt(e){return p(e)||f(e)&&St(e)}function Ot(e){return p(e)||j(e)}function kt(e){return d(e)&&e[Me]===`Optional`}function At(e){return O(e,`Any`)&&D(e.$id)}function jt(e){return O(e,`Argument`)&&u(e.index)}function Mt(e){return O(e,`Array`)&&e.type===`array`&&D(e.$id)&&j(e.items)&&E(e.minItems)&&E(e.maxItems)&&Tt(e.uniqueItems)&&Ot(e.contains)&&E(e.minContains)&&E(e.maxContains)}function Nt(e){return O(e,`AsyncIterator`)&&e.type===`AsyncIterator`&&D(e.$id)&&j(e.items)}function Pt(e){return O(e,`BigInt`)&&e.type===`bigint`&&D(e.$id)&&wt(e.exclusiveMaximum)&&wt(e.exclusiveMinimum)&&wt(e.maximum)&&wt(e.minimum)&&wt(e.multipleOf)}function Ft(e){return O(e,`Boolean`)&&e.type===`boolean`&&D(e.$id)}function It(e){return O(e,`Computed`)&&f(e.target)&&r(e.parameters)&&e.parameters.every(e=>j(e))}function Lt(e){return O(e,`Constructor`)&&e.type===`Constructor`&&D(e.$id)&&r(e.parameters)&&e.parameters.every(e=>j(e))&&j(e.returns)}function Rt(e){return O(e,`Date`)&&e.type===`Date`&&D(e.$id)&&E(e.exclusiveMaximumTimestamp)&&E(e.exclusiveMinimumTimestamp)&&E(e.maximumTimestamp)&&E(e.minimumTimestamp)&&E(e.multipleOfTimestamp)}function zt(e){return O(e,`Function`)&&e.type===`Function`&&D(e.$id)&&r(e.parameters)&&e.parameters.every(e=>j(e))&&j(e.returns)}function Bt(e){return O(e,`Integer`)&&e.type===`integer`&&D(e.$id)&&E(e.exclusiveMaximum)&&E(e.exclusiveMinimum)&&E(e.maximum)&&E(e.minimum)&&E(e.multipleOf)}function Vt(e){return d(e)&&Object.entries(e).every(([e,t])=>St(e)&&j(t))}function Ht(e){return O(e,`Intersect`)&&(f(e.type)&&e.type!==`object`?false:true)&&r(e.allOf)&&e.allOf.every(e=>j(e)&&!ln(e))&&D(e.type)&&(Tt(e.unevaluatedProperties)||Ot(e.unevaluatedProperties))&&D(e.$id)}function Ut(e){return O(e,`Iterator`)&&e.type===`Iterator`&&D(e.$id)&&j(e.items)}function O(e,t){return d(e)&&S in e&&e[S]===t}function Wt(e){return qt(e)&&f(e.const)}function Gt(e){return qt(e)&&u(e.const)}function Kt(e){return qt(e)&&a(e.const)}function qt(e){return O(e,`Literal`)&&D(e.$id)&&Jt(e.const)}function Jt(e){return a(e)||u(e)||f(e)}function Yt(e){return O(e,`MappedKey`)&&r(e.keys)&&e.keys.every(e=>u(e)||f(e))}function Xt(e){return O(e,`MappedResult`)&&Vt(e.properties)}function Zt(e){return O(e,`Never`)&&d(e.not)&&Object.getOwnPropertyNames(e.not).length===0}function Qt(e){return O(e,`Not`)&&j(e.not)}function $t(e){return O(e,`Null`)&&e.type===`null`&&D(e.$id)}function en(e){return O(e,`Number`)&&e.type===`number`&&D(e.$id)&&E(e.exclusiveMaximum)&&E(e.exclusiveMinimum)&&E(e.maximum)&&E(e.minimum)&&E(e.multipleOf)}function k(e){return O(e,`Object`)&&e.type===`object`&&D(e.$id)&&Vt(e.properties)&&Ct(e.additionalProperties)&&E(e.minProperties)&&E(e.maxProperties)}function tn(e){return O(e,`Promise`)&&e.type===`Promise`&&D(e.$id)&&j(e.item)}function A(e){return O(e,`Record`)&&e.type===`object`&&D(e.$id)&&Ct(e.additionalProperties)&&d(e.patternProperties)&&(e=>{const t=Object.getOwnPropertyNames(e.patternProperties);return t.length===1&&xt(t[0])&&d(e.patternProperties)&&j(e.patternProperties[t[0]])})(e)}function nn(e){return O(e,`Ref`)&&D(e.$id)&&f(e.$ref)}function rn(e){return O(e,`RegExp`)&&D(e.$id)&&f(e.source)&&f(e.flags)&&E(e.maxLength)&&E(e.minLength)}function an(e){return O(e,`String`)&&e.type===`string`&&D(e.$id)&&E(e.minLength)&&E(e.maxLength)&&Et(e.pattern)&&Dt(e.format)}function on(e){return O(e,`Symbol`)&&e.type===`symbol`&&D(e.$id)}function sn(e){return O(e,`TemplateLiteral`)&&e.type===`string`&&f(e.pattern)&&e.pattern[0]===`^`&&e.pattern[e.pattern.length-1]===`$`}function cn(e){return O(e,`This`)&&D(e.$id)&&f(e.$ref)}function ln(e){return d(e)&&Ae in e}function un(e){return O(e,`Tuple`)&&e.type===`array`&&D(e.$id)&&u(e.minItems)&&u(e.maxItems)&&e.minItems===e.maxItems&&(p(e.items)&&p(e.additionalItems)&&e.minItems===0||r(e.items)&&e.items.every(e=>j(e)))}function dn(e){return O(e,`Undefined`)&&e.type===`undefined`&&D(e.$id)}function fn(e){return O(e,`Union`)&&D(e.$id)&&d(e)&&r(e.anyOf)&&e.anyOf.every(e=>j(e))}function pn(e){return O(e,`Uint8Array`)&&e.type===`Uint8Array`&&D(e.$id)&&E(e.minByteLength)&&E(e.maxByteLength)}function mn(e){return O(e,`Unknown`)&&D(e.$id)}function hn(e){return O(e,`Unsafe`)}function gn(e){return O(e,`Void`)&&e.type===`void`&&D(e.$id)}function _n(e){return d(e)&&S in e&&f(e[S])&&!bt.includes(e[S])}function j(e){return d(e)&&(At(e)||jt(e)||Mt(e)||Ft(e)||Pt(e)||Nt(e)||It(e)||Lt(e)||Rt(e)||zt(e)||Bt(e)||Ht(e)||Ut(e)||qt(e)||Yt(e)||Xt(e)||Zt(e)||Qt(e)||$t(e)||en(e)||k(e)||tn(e)||A(e)||nn(e)||rn(e)||an(e)||on(e)||sn(e)||cn(e)||un(e)||dn(e)||fn(e)||pn(e)||mn(e)||hn(e)||gn(e)||_n(e))}const vn=`(true|false)`;const yn=`(0|[1-9][0-9]*)`;const bn=`(.*)`;const xn=`(?!.*)`;const Sn=`^${vn}$`;const Cn=`^${yn}$`;const wn=`^${bn}$`;const Tn=`^${xn}$`;const En=new Map;function Dn(e){return En.has(e)}function On(e){return En.get(e)}const kn=new Map;function An(e){return kn.has(e)}function jn(e){return kn.get(e)}function Mn(e,t){return e.includes(t)}function Nn(e){return[...new Set(e)]}function Pn(e,t){return e.filter(e=>t.includes(e))}function Fn(e,t){return e.reduce((e,t)=>{return Pn(e,t)},t)}function In(e){return e.length===1?e[0]:e.length>1?Fn(e.slice(1),e[0]):[]}function Ln(e){const t=[];for(const n of e)t.push(...n);return t}function Rn(e){return b({[S]:`Any`},e)}function zn(e,t){return b({[S]:`Array`,type:`array`,items:e},t)}function Bn(e){return b({[S]:`Argument`,index:e})}function Vn(e,t){return b({[S]:`AsyncIterator`,type:`AsyncIterator`,items:e},t)}function M(e,t,n){return b({[S]:`Computed`,target:e,parameters:t},n)}function Hn(e,t){const{[t]:n,...r}=e;return r}function Un(e,t){return t.reduce((e,t)=>Hn(e,t),e)}function N(e){return b({[S]:`Never`,not:{}},e)}function P(e){return b({[S]:`MappedResult`,properties:e})}function Wn(e,t,n){return b({[S]:`Constructor`,type:`Constructor`,parameters:e,returns:t},n)}function Gn(e,t,n){return b({[S]:`Function`,type:`Function`,parameters:e,returns:t},n)}function Kn(e,t){return b({[S]:`Union`,anyOf:e},t)}function qn(e){return e.some(e=>Fe(e))}function Jn(e){return e.map(e=>Fe(e)?Yn(e):e)}function Yn(e){return Un(e,[Me])}function Xn(e,t){const n=qn(e);return n?Ni(Kn(Jn(e),t)):Kn(Jn(e),t)}function Zn(e,t){return e.length===1?b(e[0],t):e.length===0?N(t):Xn(e,t)}function F(e,t){return e.length===0?N(t):e.length===1?b(e[0],t):Kn(e,t)}var Qn=class extends x{};function $n(e){return e.replace(/\\\$/g,`$`).replace(/\\\*/g,`*`).replace(/\\\^/g,`^`).replace(/\\\|/g,`|`).replace(/\\\(/g,`(`).replace(/\\\)/g,`)`)}function er(e,t,n){return e[t]===n&&e.charCodeAt(t-1)!==92}function tr(e,t){return er(e,t,`(`)}function nr(e,t){return er(e,t,`)`)}function rr(e,t){return er(e,t,`|`)}function ir(e){if(!(tr(e,0)&&nr(e,e.length-1)))return false;let t=0;for(let n=0;n<e.length;n++){if(tr(e,n))t+=1;if(nr(e,n))t-=1;if(t===0&&n!==e.length-1)return false}return true}function ar(e){return e.slice(1,e.length-1)}function or(e){let t=0;for(let n=0;n<e.length;n++){if(tr(e,n))t+=1;if(nr(e,n))t-=1;if(rr(e,n)&&t===0)return true}return false}function sr(e){for(let t=0;t<e.length;t++)if(tr(e,t))return true;return false}function cr(e){let[t,n]=[0,0];const r=[];for(let i=0;i<e.length;i++){if(tr(e,i))t+=1;if(nr(e,i))t-=1;if(rr(e,i)&&t===0){const t=e.slice(n,i);if(t.length>0)r.push(ur(t));n=i+1}}const i=e.slice(n);if(i.length>0)r.push(ur(i));if(r.length===0)return{type:`const`,const:``};if(r.length===1)return r[0];return{type:`or`,expr:r}}function lr(e){function t(e,t){if(!tr(e,t))throw new Qn(`TemplateLiteralParser: Index must point to open parens`);let n=0;for(let r=t;r<e.length;r++){if(tr(e,r))n+=1;if(nr(e,r))n-=1;if(n===0)return[t,r]}throw new Qn(`TemplateLiteralParser: Unclosed group parens in expression`)}function n(e,t){for(let n=t;n<e.length;n++)if(tr(e,n))return[t,n];return[t,e.length]}const r=[];for(let i=0;i<e.length;i++)if(tr(e,i)){const[n,a]=t(e,i);const o=e.slice(n,a+1);r.push(ur(o));i=a}else{const[t,a]=n(e,i);const o=e.slice(t,a);if(o.length>0)r.push(ur(o));i=a-1}return r.length===0?{type:`const`,const:``}:r.length===1?r[0]:{type:`and`,expr:r}}function ur(e){return ir(e)?ur(ar(e)):or(e)?cr(e):sr(e)?lr(e):{type:`const`,const:$n(e)}}function dr(e){return ur(e.slice(1,e.length-1))}var fr=class extends x{};function pr(e){return e.type===`or`&&e.expr.length===2&&e.expr[0].type===`const`&&e.expr[0].const===`0`&&e.expr[1].type===`const`&&e.expr[1].const===`[1-9][0-9]*`}function mr(e){return e.type===`or`&&e.expr.length===2&&e.expr[0].type===`const`&&e.expr[0].const===`true`&&e.expr[1].type===`const`&&e.expr[1].const===`false`}function hr(e){return e.type===`const`&&e.const===`.*`}function gr(e){return pr(e)||hr(e)?false:mr(e)?true:e.type===`and`?e.expr.every(e=>gr(e)):e.type===`or`?e.expr.every(e=>gr(e)):e.type===`const`?true:(()=>{throw new fr(`Unknown expression type`)})()}function _r(e){const t=dr(e.pattern);return gr(t)}var vr=class extends x{};function*yr(e){if(e.length===1)return yield*e[0];for(const t of e[0])for(const n of yr(e.slice(1)))yield`${t}${n}`}function*br(e){return yield*yr(e.expr.map(e=>[...Cr(e)]))}function*xr(e){for(const t of e.expr)yield*Cr(t)}function*Sr(e){return yield e.const}function*Cr(e){return e.type===`and`?yield*br(e):e.type===`or`?yield*xr(e):e.type===`const`?yield*Sr(e):(()=>{throw new vr(`Unknown expression`)})()}function wr(e){const t=dr(e.pattern);return gr(t)?[...Cr(t)]:[]}function I(e,t){return b({[S]:`Literal`,const:e,type:typeof e},t)}function Tr(e){return b({[S]:`Boolean`,type:`boolean`},e)}function Er(e){return b({[S]:`BigInt`,type:`bigint`},e)}function Dr(e){return b({[S]:`Number`,type:`number`},e)}function Or(e){return b({[S]:`String`,type:`string`},e)}function*kr(e){const t=e.trim().replace(/"|'/g,``);return t===`boolean`?yield Tr():t===`number`?yield Dr():t===`bigint`?yield Er():t===`string`?yield Or():yield(()=>{const e=t.split(`|`).map(e=>I(e.trim()));return e.length===0?N():e.length===1?e[0]:Zn(e)})()}function*Ar(e){if(e[1]!==`{`){const t=I(`$`);const n=jr(e.slice(1));return yield*[t,...n]}for(let t=2;t<e.length;t++)if(e[t]===`}`){const n=kr(e.slice(2,t));const r=jr(e.slice(t+1));return yield*[...n,...r]}yield I(e)}function*jr(e){for(let t=0;t<e.length;t++)if(e[t]===`$`){const n=I(e.slice(0,t));const r=Ar(e.slice(t));return yield*[n,...r]}yield I(e)}function Mr(e){return[...jr(e)]}var Nr=class extends x{};function Pr(e){return e.replace(/[.*+?^${}()|[\]\\]/g,`\\$&`)}function Fr(e,t){return ut(e)?e.pattern.slice(1,e.pattern.length-1):T(e)?`(${e.anyOf.map(e=>Fr(e,t)).join(`|`)})`:nt(e)?`${t}${yn}`:Ke(e)?`${t}${yn}`:Be(e)?`${t}${yn}`:ct(e)?`${t}${bn}`:Xe(e)?`${t}${Pr(e.const.toString())}`:Ve(e)?`${t}${vn}`:(()=>{throw new Nr(`Unexpected Kind '${e[S]}'`)})()}function Ir(e){return`^${e.map(e=>Fr(e,``)).join(``)}\$`}function Lr(e){const t=wr(e);const n=t.map(e=>I(e));return Zn(n)}function Rr(e,t){const n=f(e)?Ir(Mr(e)):Ir(e);return b({[S]:`TemplateLiteral`,type:`string`,pattern:n},t)}function zr(e){const t=wr(e);return t.map(e=>e.toString())}function Br(e){const t=[];for(const n of e)t.push(...Hr(n));return t}function Vr(e){return[e.toString()]}function Hr(e){return[...new Set(ut(e)?zr(e):T(e)?Br(e.anyOf):Xe(e)?Vr(e.const):nt(e)?[`[number]`]:Ke(e)?[`[number]`]:[])]}function Ur(e,t,n){const r={};for(const i of Object.getOwnPropertyNames(t))r[i]=ri(e,Hr(t[i]),n);return r}function Wr(e,t,n){return Ur(e,t.properties,n)}function Gr(e,t,n){const r=Wr(e,t,n);return P(r)}function Kr(e,t){return e.map(e=>ei(e,t))}function qr(e){return e.filter(e=>!$e(e))}function Jr(e,t){return Hi(qr(Kr(e,t)))}function Yr(e){return e.some(e=>$e(e))?[]:e}function Xr(e,t){return Zn(Yr(Kr(e,t)))}function Zr(e,t){return t in e?e[t]:t===`[number]`?Zn(e):N()}function Qr(e,t){return t===`[number]`?e:N()}function $r(e,t){return t in e?e[t]:N()}function ei(e,t){return qe(e)?Jr(e.allOf,t):T(e)?Xr(e.anyOf,t):ft(e)?Zr(e.items??[],t):Re(e)?Qr(e.items,t):rt(e)?$r(e.properties,t):N()}function ti(e,t){return t.map(t=>ei(e,t))}function ni(e,t){return Zn(ti(e,t))}function ri(e,t,n){if(ot(e)||ot(t)){const n=`Index types using Ref parameters require both Type and Key to be of TSchema`;if(!yt(e)||!yt(t))throw new x(n);return M(`Index`,[e,t])}if(Qe(t))return Gr(e,t,n);if(Ze(t))return si(e,t,n);return b(yt(t)?ni(e,Hr(t)):ni(e,t),n)}function ii(e,t,n){return{[t]:ri(e,[t],le(n))}}function ai(e,t,n){return t.reduce((t,r)=>{return{...t,...ii(e,r,n)}},{})}function oi(e,t,n){return ai(e,t.keys,n)}function si(e,t,n){const r=oi(e,t,n);return P(r)}function ci(e,t){return b({[S]:`Iterator`,type:`Iterator`,items:e},t)}function li(e){const t=[];for(let n in e)if(!Fe(e[n]))t.push(n);return t}function ui(e,t){const n=li(e);const r=n.length>0?{[S]:`Object`,type:`object`,properties:e,required:n}:{[S]:`Object`,type:`object`,properties:e};return b(r,t)}var L=ui;function di(e,t){return b({[S]:`Promise`,type:`Promise`,item:e},t)}function fi(e){return b(Un(e,[je]))}function pi(e){return b({...e,[je]:`Readonly`})}function mi(e,t){return t===false?fi(e):pi(e)}function hi(e,t){const n=t??true;return Qe(e)?vi(e,n):mi(e,n)}function gi(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=hi(e[r],t);return n}function _i(e,t){return gi(e.properties,t)}function vi(e,t){const n=_i(e,t);return P(n)}function yi(e,t){return b(e.length>0?{[S]:`Tuple`,type:`array`,items:e,additionalItems:false,minItems:e.length,maxItems:e.length}:{[S]:`Tuple`,type:`array`,minItems:e.length,maxItems:e.length},t)}function bi(e,t){return e in t?Di(e,t[e]):P(t)}function xi(e){return{[e]:I(e)}}function Si(e){const t={};for(const n of e)t[n]=I(n);return t}function Ci(e,t){return Mn(t,e)?xi(e):Si(t)}function wi(e,t){const n=Ci(e,t);return bi(e,n)}function Ti(e,t){return t.map(t=>Di(e,t))}function Ei(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(t))n[r]=Di(e,t[r]);return n}function Di(e,t){const n={...t};return Fe(t)?Ni(Di(e,Un(t,[Me]))):Pe(t)?hi(Di(e,Un(t,[je]))):Qe(t)?bi(e,t.properties):Ze(t)?wi(e,t.keys):Ue(t)?Wn(Ti(e,t.parameters),Di(e,t.returns),n):Ge(t)?Gn(Ti(e,t.parameters),Di(e,t.returns),n):ze(t)?Vn(Di(e,t.items),n):Je(t)?ci(Di(e,t.items),n):qe(t)?Ui(Ti(e,t.allOf),n):T(t)?F(Ti(e,t.anyOf),n):ft(t)?yi(Ti(e,t.items??[]),n):rt(t)?L(Ei(e,t.properties),n):Re(t)?zn(Di(e,t.items),n):it(t)?di(Di(e,t.item),n):t}function Oi(e,t){const n={};for(const r of e)n[r]=Di(r,t);return n}function ki(e,t,n){const r=yt(e)?Hr(e):e;const i=t({[S]:`MappedKey`,keys:r});const a=Oi(r,i);return L(a,n)}function Ai(e){return b(Un(e,[Me]))}function ji(e){return b({...e,[Me]:`Optional`})}function Mi(e,t){return t===false?Ai(e):ji(e)}function Ni(e,t){const n=t??true;return Qe(e)?Ii(e,n):Mi(e,n)}function Pi(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=Ni(e[r],t);return n}function Fi(e,t){return Pi(e.properties,t)}function Ii(e,t){const n=Fi(e,t);return P(n)}function Li(e,t={}){const n=e.every(e=>rt(e));const r=yt(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return b(t.unevaluatedProperties===false||yt(t.unevaluatedProperties)||n?{...r,[S]:`Intersect`,type:`object`,allOf:e}:{...r,[S]:`Intersect`,allOf:e},t)}function Ri(e){return e.every(e=>Fe(e))}function zi(e){return Un(e,[Me])}function Bi(e){return e.map(e=>Fe(e)?zi(e):e)}function Vi(e,t){return Ri(e)?Ni(Li(Bi(e),t)):Li(Bi(e),t)}function Hi(e,t={}){if(e.length===1)return b(e[0],t);if(e.length===0)return N(t);if(e.some(e=>w(e)))throw new Error(`Cannot intersect transform types`);return Vi(e,t)}function Ui(e,t){if(e.length===1)return b(e[0],t);if(e.length===0)return N(t);if(e.some(e=>w(e)))throw new Error(`Cannot intersect transform types`);return Li(e,t)}function Wi(...e){const[t,n]=typeof e[0]===`string`?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!==`string`)throw new x(`Ref: $ref must be a string`);return b({[S]:`Ref`,$ref:t},n)}function Gi(e,t){return M(`Awaited`,[M(e,t)])}function Ki(e){return M(`Awaited`,[Wi(e)])}function qi(e){return Ui(Xi(e))}function Ji(e){return F(Xi(e))}function Yi(e){return Zi(e)}function Xi(e){return e.map(e=>Zi(e))}function Zi(e,t){return b(He(e)?Gi(e.target,e.parameters):qe(e)?qi(e.allOf):T(e)?Ji(e.anyOf):it(e)?Yi(e.item):ot(e)?Ki(e.$ref):e,t)}function Qi(e){const t=[];for(const n of e)t.push(aa(n));return t}function $i(e){const t=Qi(e);const n=Ln(t);return n}function ea(e){const t=Qi(e);const n=In(t);return n}function ta(e){return e.map((e,t)=>t.toString())}function na(e){return[`[number]`]}function ra(e){return globalThis.Object.getOwnPropertyNames(e)}function ia(e){if(!oa)return[];const t=globalThis.Object.getOwnPropertyNames(e);return t.map(e=>{return e[0]===`^`&&e[e.length-1]===`$`?e.slice(1,e.length-1):e})}function aa(e){return qe(e)?$i(e.allOf):T(e)?ea(e.anyOf):ft(e)?ta(e.items??[]):Re(e)?na(e.items):rt(e)?ra(e.properties):at(e)?ia(e.patternProperties):[]}let oa=false;function sa(e){oa=true;const t=aa(e);oa=false;const n=t.map(e=>`(${e})`);return`^(${n.join(`|`)})$`}function ca(e,t){return M(`KeyOf`,[M(e,t)])}function la(e){return M(`KeyOf`,[Wi(e)])}function ua(e,t){const n=aa(e);const r=da(n);const i=Zn(r);return b(i,t)}function da(e){return e.map(e=>e===`[number]`?Dr():I(e))}function fa(e,t){return He(e)?ca(e.target,e.parameters):ot(e)?la(e.$ref):Qe(e)?ha(e,t):ua(e,t)}function pa(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=fa(e[r],le(t));return n}function ma(e,t){return pa(e.properties,t)}function ha(e,t){const n=ma(e,t);return P(n)}function ga(e){const t=aa(e);const n=ti(e,t);return t.map((e,r)=>[t[r],n[r]])}function _a(e){const t=[];for(const n of e)t.push(...aa(n));return Nn(t)}function va(e){return e.filter(e=>!$e(e))}function ya(e,t){const n=[];for(const r of e)n.push(...ti(r,[t]));return va(n)}function ba(e,t){const n={};for(const r of t)n[r]=Hi(ya(e,r));return n}function xa(e,t){const n=_a(e);const r=ba(e,n);const i=L(r,t);return i}function Sa(e){return b({[S]:`Date`,type:`Date`},e)}function Ca(e){return b({[S]:`Null`,type:`null`},e)}function wa(e){return b({[S]:`Symbol`,type:`symbol`},e)}function Ta(e){return b({[S]:`Undefined`,type:`undefined`},e)}function Ea(e){return b({[S]:`Uint8Array`,type:`Uint8Array`},e)}function Da(e){return b({[S]:`Unknown`},e)}function Oa(e){return e.map(e=>ja(e,false))}function ka(e){const t={};for(const n of globalThis.Object.getOwnPropertyNames(e))t[n]=hi(ja(e[n],false));return t}function Aa(e,t){return t===true?e:hi(e)}function ja(e,t){return n(e)?Aa(Rn(),t):c(e)?Aa(Rn(),t):r(e)?hi(yi(Oa(e))):ne(e)?Ea():o(e)?Sa():d(e)?Aa(L(ka(e)),t):s(e)?Aa(Gn([],Da()),t):p(e)?Ta():l(e)?Ca():te(e)?wa():i(e)?Er():u(e)?I(e):a(e)?I(e):f(e)?I(e):L({})}function Ma(e,t){return b(ja(e,true),t)}function Na(e,t){return Ue(e)?yi(e.parameters,t):N(t)}function Pa(e,t){if(p(e))throw new Error(`Enum undefined or empty`);const n=globalThis.Object.getOwnPropertyNames(e).filter(e=>isNaN(e)).map(t=>e[t]);const r=[...new Set(n)];const i=r.map(e=>I(e));return F(i,{...t,[Ne]:`Enum`})}var Fa=class extends x{};var R;(function(e){e[e[`Union`]=0]=`Union`;e[e[`True`]=1]=`True`;e[e[`False`]=2]=`False`})(R||(R={}));function Ia(e){return e===R.False?e:R.True}function La(e){throw new Fa(e)}function z(e){return Zt(e)||Ht(e)||fn(e)||mn(e)||At(e)}function B(e,t){return Zt(t)?to(e,t):Ht(t)?Za(e,t):fn(t)?Ro(e,t):mn(t)?Bo(e,t):At(t)?Ra(e,t):La(`StructuralRight`)}function Ra(e,t){return R.True}function za(e,t){return Ht(t)?Za(e,t):fn(t)&&t.anyOf.some(e=>At(e)||mn(e))?R.True:fn(t)?R.Union:mn(t)?R.True:At(t)?R.True:R.Union}function Ba(e,t){return mn(e)?R.False:At(e)?R.Union:Zt(e)?R.True:R.False}function Va(e,t){return k(t)&&yo(t)?R.True:z(t)?B(e,t):!Mt(t)?R.False:Ia(H(e.items,t.items))}function Ha(e,t){return z(t)?B(e,t):!Nt(t)?R.False:Ia(H(e.items,t.items))}function Ua(e,t){return z(t)?B(e,t):k(t)?V(e,t):A(t)?Eo(e,t):Pt(t)?R.True:R.False}function Wa(e,t){return Kt(e)?R.True:Ft(e)?R.True:R.False}function Ga(e,t){return z(t)?B(e,t):k(t)?V(e,t):A(t)?Eo(e,t):Ft(t)?R.True:R.False}function Ka(e,t){return z(t)?B(e,t):k(t)?V(e,t):!Lt(t)?R.False:e.parameters.length>t.parameters.length?R.False:!e.parameters.every((e,n)=>Ia(H(t.parameters[n],e))===R.True)?R.False:Ia(H(e.returns,t.returns))}function qa(e,t){return z(t)?B(e,t):k(t)?V(e,t):A(t)?Eo(e,t):Rt(t)?R.True:R.False}function Ja(e,t){return z(t)?B(e,t):k(t)?V(e,t):!zt(t)?R.False:e.parameters.length>t.parameters.length?R.False:!e.parameters.every((e,n)=>Ia(H(t.parameters[n],e))===R.True)?R.False:Ia(H(e.returns,t.returns))}function Ya(e,t){return qt(e)&&u(e.const)?R.True:en(e)||Bt(e)?R.True:R.False}function Xa(e,t){return Bt(t)||en(t)?R.True:z(t)?B(e,t):k(t)?V(e,t):A(t)?Eo(e,t):R.False}function Za(e,t){return t.allOf.every(t=>H(e,t)===R.True)?R.True:R.False}function Qa(e,t){return e.allOf.some(e=>H(e,t)===R.True)?R.True:R.False}function $a(e,t){return z(t)?B(e,t):!Ut(t)?R.False:Ia(H(e.items,t.items))}function eo(e,t){return qt(t)&&t.const===e.const?R.True:z(t)?B(e,t):k(t)?V(e,t):A(t)?Eo(e,t):an(t)?ko(e,t):en(t)?oo(e,t):Bt(t)?Ya(e,t):Ft(t)?Wa(e,t):R.False}function to(e,t){return R.False}function no(e,t){return R.True}function ro(e){let[t,n]=[e,0];while(true){if(!Qt(t))break;t=t.not;n+=1}return n%2===0?t:Da()}function io(e,t){return Qt(e)?H(ro(e),t):Qt(t)?H(e,ro(t)):La(`Invalid fallthrough for Not`)}function ao(e,t){return z(t)?B(e,t):k(t)?V(e,t):A(t)?Eo(e,t):$t(t)?R.True:R.False}function oo(e,t){return Gt(e)?R.True:en(e)||Bt(e)?R.True:R.False}function so(e,t){return z(t)?B(e,t):k(t)?V(e,t):A(t)?Eo(e,t):Bt(t)||en(t)?R.True:R.False}function co(e,t){return Object.getOwnPropertyNames(e.properties).length===t}function lo(e){return yo(e)}function uo(e){return co(e,0)||co(e,1)&&`description`in e.properties&&fn(e.properties.description)&&e.properties.description.anyOf.length===2&&(an(e.properties.description.anyOf[0])&&dn(e.properties.description.anyOf[1])||an(e.properties.description.anyOf[1])&&dn(e.properties.description.anyOf[0]))}function fo(e){return co(e,0)}function po(e){return co(e,0)}function mo(e){return co(e,0)}function ho(e){return co(e,0)}function go(e){return yo(e)}function _o(e){const t=Dr();return co(e,0)||co(e,1)&&`length`in e.properties&&Ia(H(e.properties[`length`],t))===R.True}function vo(e){return co(e,0)}function yo(e){const t=Dr();return co(e,0)||co(e,1)&&`length`in e.properties&&Ia(H(e.properties[`length`],t))===R.True}function bo(e){const t=Gn([Rn()],Rn());return co(e,0)||co(e,1)&&`then`in e.properties&&Ia(H(e.properties[`then`],t))===R.True}function xo(e,t){return H(e,t)===R.False?R.False:kt(e)&&!kt(t)?R.False:R.True}function V(e,t){return mn(e)?R.False:At(e)?R.Union:Zt(e)||Wt(e)&&lo(t)||Gt(e)&&fo(t)||Kt(e)&&po(t)||on(e)&&uo(t)||Pt(e)&&mo(t)||an(e)&&lo(t)||on(e)&&uo(t)||en(e)&&fo(t)||Bt(e)&&fo(t)||Ft(e)&&po(t)||pn(e)&&go(t)||Rt(e)&&ho(t)||Lt(e)&&vo(t)||zt(e)&&_o(t)?R.True:A(e)&&an(wo(e))?(()=>{return t[Ne]===`Record`?R.True:R.False})():A(e)&&en(wo(e))?(()=>{return co(t,0)?R.True:R.False})():R.False}function So(e,t){return z(t)?B(e,t):A(t)?Eo(e,t):!k(t)?R.False:(()=>{for(const n of Object.getOwnPropertyNames(t.properties)){if(!(n in e.properties)&&!kt(t.properties[n]))return R.False;if(kt(t.properties[n]))return R.True;if(xo(e.properties[n],t.properties[n])===R.False)return R.False}return R.True})()}function Co(e,t){return z(t)?B(e,t):k(t)&&bo(t)?R.True:!tn(t)?R.False:Ia(H(e.item,t.item))}function wo(e){return Cn in e.patternProperties?Dr():wn in e.patternProperties?Or():La(`Unknown record key pattern`)}function To(e){return Cn in e.patternProperties?e.patternProperties[Cn]:wn in e.patternProperties?e.patternProperties[wn]:La(`Unable to get record value schema`)}function Eo(e,t){const[n,r]=[wo(t),To(t)];return Wt(e)&&en(n)&&Ia(H(e,r))===R.True?R.True:pn(e)&&en(n)?H(e,r):an(e)&&en(n)?H(e,r):Mt(e)&&en(n)?H(e,r):k(e)?(()=>{for(const t of Object.getOwnPropertyNames(e.properties))if(xo(r,e.properties[t])===R.False)return R.False;return R.True})():R.False}function Do(e,t){return z(t)?B(e,t):k(t)?V(e,t):!A(t)?R.False:H(To(e),To(t))}function Oo(e,t){const n=rn(e)?Or():e;const r=rn(t)?Or():t;return H(n,r)}function ko(e,t){return qt(e)&&f(e.const)?R.True:an(e)?R.True:R.False}function Ao(e,t){return z(t)?B(e,t):k(t)?V(e,t):A(t)?Eo(e,t):an(t)?R.True:R.False}function jo(e,t){return z(t)?B(e,t):k(t)?V(e,t):A(t)?Eo(e,t):on(t)?R.True:R.False}function Mo(e,t){return sn(e)?H(Lr(e),t):sn(t)?H(e,Lr(t)):La(`Invalid fallthrough for TemplateLiteral`)}function No(e,t){return Mt(t)&&e.items!==void 0&&e.items.every(e=>H(e,t.items)===R.True)}function Po(e,t){return Zt(e)?R.True:mn(e)?R.False:At(e)?R.Union:R.False}function Fo(e,t){return z(t)?B(e,t):k(t)&&yo(t)?R.True:Mt(t)&&No(e,t)?R.True:!un(t)?R.False:p(e.items)&&!p(t.items)||!p(e.items)&&p(t.items)?R.False:p(e.items)&&!p(t.items)?R.True:e.items.every((e,n)=>H(e,t.items[n])===R.True)?R.True:R.False}function Io(e,t){return z(t)?B(e,t):k(t)?V(e,t):A(t)?Eo(e,t):pn(t)?R.True:R.False}function Lo(e,t){return z(t)?B(e,t):k(t)?V(e,t):A(t)?Eo(e,t):gn(t)?Ho(e,t):dn(t)?R.True:R.False}function Ro(e,t){return t.anyOf.some(t=>H(e,t)===R.True)?R.True:R.False}function zo(e,t){return e.anyOf.every(e=>H(e,t)===R.True)?R.True:R.False}function Bo(e,t){return R.True}function Vo(e,t){return Zt(t)?to(e,t):Ht(t)?Za(e,t):fn(t)?Ro(e,t):At(t)?Ra(e,t):an(t)?ko(e,t):en(t)?oo(e,t):Bt(t)?Ya(e,t):Ft(t)?Wa(e,t):Mt(t)?Ba(e,t):un(t)?Po(e,t):k(t)?V(e,t):mn(t)?R.True:R.False}function Ho(e,t){return dn(e)?R.True:dn(e)?R.True:R.False}function Uo(e,t){return Ht(t)?Za(e,t):fn(t)?Ro(e,t):mn(t)?Bo(e,t):At(t)?Ra(e,t):k(t)?V(e,t):gn(t)?R.True:R.False}function H(e,t){return sn(e)||sn(t)?Mo(e,t):rn(e)||rn(t)?Oo(e,t):Qt(e)||Qt(t)?io(e,t):At(e)?za(e,t):Mt(e)?Va(e,t):Pt(e)?Ua(e,t):Ft(e)?Ga(e,t):Nt(e)?Ha(e,t):Lt(e)?Ka(e,t):Rt(e)?qa(e,t):zt(e)?Ja(e,t):Bt(e)?Xa(e,t):Ht(e)?Qa(e,t):Ut(e)?$a(e,t):qt(e)?eo(e,t):Zt(e)?no(e,t):$t(e)?ao(e,t):en(e)?so(e,t):k(e)?So(e,t):A(e)?Do(e,t):an(e)?Ao(e,t):on(e)?jo(e,t):un(e)?Fo(e,t):tn(e)?Co(e,t):pn(e)?Io(e,t):dn(e)?Lo(e,t):fn(e)?zo(e,t):mn(e)?Vo(e,t):gn(e)?Uo(e,t):La(`Unknown left type operand '${e[S]}'`)}function Wo(e,t){return H(e,t)}function Go(e,t,n,r,i){const a={};for(const o of globalThis.Object.getOwnPropertyNames(e))a[o]=Yo(e[o],t,n,r,le(i));return a}function Ko(e,t,n,r,i){return Go(e.properties,t,n,r,i)}function qo(e,t,n,r,i){const a=Ko(e,t,n,r,i);return P(a)}function Jo(e,t,n,r){const i=Wo(e,t);return i===R.Union?F([n,r]):i===R.True?n:r}function Yo(e,t,n,r,i){return Qe(e)?qo(e,t,n,r,i):Ze(e)?b($o(e,t,n,r,i)):b(Jo(e,t,n,r),i)}function Xo(e,t,n,r,i){return{[e]:Yo(I(e),t,n,r,le(i))}}function Zo(e,t,n,r,i){return e.reduce((e,a)=>{return{...e,...Xo(a,t,n,r,i)}},{})}function Qo(e,t,n,r,i){return Zo(e.keys,t,n,r,i)}function $o(e,t,n,r,i){const a=Qo(e,t,n,r,i);return P(a)}function es(e){return e.allOf.every(e=>rs(e))}function ts(e){return e.anyOf.some(e=>rs(e))}function ns(e){return!rs(e.not)}function rs(e){return e[S]===`Intersect`?es(e):e[S]===`Union`?ts(e):e[S]===`Not`?ns(e):e[S]===`Undefined`?true:false}function os(e,t){return cs(Lr(e),t)}function ss(e,t){const n=e.filter(e=>Wo(e,t)===R.False);return n.length===1?n[0]:F(n)}function cs(e,t,n={}){if(ut(e))return b(os(e,t),n);if(Qe(e))return b(ds(e,t),n);return b(T(e)?ss(e.anyOf,t):Wo(e,t)!==R.False?N():e,n)}function ls(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=cs(e[r],t);return n}function us(e,t){return ls(e.properties,t)}function ds(e,t){const n=us(e,t);return P(n)}function fs(e,t){return ms(Lr(e),t)}function ps(e,t){const n=e.filter(e=>Wo(e,t)!==R.False);return n.length===1?n[0]:F(n)}function ms(e,t,n){if(ut(e))return b(fs(e,t),n);if(Qe(e))return b(_s(e,t),n);return b(T(e)?ps(e.anyOf,t):Wo(e,t)!==R.False?e:N(),n)}function hs(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=ms(e[r],t);return n}function gs(e,t){return hs(e.properties,t)}function _s(e,t){const n=gs(e,t);return P(n)}function vs(e,t){return Ue(e)?b(e.returns,t):N(t)}function ys(e){return hi(Ni(e))}function bs(e,t,n){return b({[S]:`Record`,type:`object`,patternProperties:{[e]:t}},n)}function xs(e,t,n){const r={};for(const n of e)r[n]=t;return L(r,{...n,[Ne]:`Record`})}function Ss(e,t,n){return _r(e)?xs(Hr(e),t,n):bs(e.pattern,t,n)}function Cs(e,t,n){return xs(Hr(F(e)),t,n)}function ws(e,t,n){return xs([e.toString()],t,n)}function Ts(e,t,n){return bs(e.source,t,n)}function Es(e,t,n){const r=p(e.pattern)?wn:e.pattern;return bs(r,t,n)}function Ds(e,t,n){return bs(wn,t,n)}function Os(e,t,n){return bs(Tn,t,n)}function ks(e,t,n){return L({true:t,false:t},n)}function As(e,t,n){return bs(Cn,t,n)}function js(e,t,n){return bs(Cn,t,n)}function Ms(e,t,n={}){return T(e)?Cs(e.anyOf,t,n):ut(e)?Ss(e,t,n):Xe(e)?ws(e.const,t,n):Ve(e)?ks(e,t,n):Ke(e)?As(e,t,n):nt(e)?js(e,t,n):st(e)?Ts(e,t,n):ct(e)?Es(e,t,n):Ie(e)?Ds(e,t,n):$e(e)?Os(e,t,n):N(n)}function Ns(e){return globalThis.Object.getOwnPropertyNames(e.patternProperties)[0]}function Ps(e){const t=Ns(e);return t===wn?Or():t===Cn?Dr():Or({pattern:t})}function Fs(e){return e.patternProperties[Ns(e)]}function Is(e,t){t.parameters=Xs(e,t.parameters);t.returns=Zs(e,t.returns);return t}function Ls(e,t){t.parameters=Xs(e,t.parameters);t.returns=Zs(e,t.returns);return t}function Rs(e,t){t.allOf=Xs(e,t.allOf);return t}function zs(e,t){t.anyOf=Xs(e,t.anyOf);return t}function Bs(e,t){if(p(t.items))return t;t.items=Xs(e,t.items);return t}function Vs(e,t){t.items=Zs(e,t.items);return t}function Hs(e,t){t.items=Zs(e,t.items);return t}function Us(e,t){t.items=Zs(e,t.items);return t}function Ws(e,t){t.item=Zs(e,t.item);return t}function Gs(e,t){const n=Ys(e,t.properties);return{...t,...L(n)}}function Ks(e,t){const n=Zs(e,Ps(t));const r=Zs(e,Fs(t));const i=Ms(n,r);return{...t,...i}}function qs(e,t){return t.index in e?e[t.index]:Da()}function Js(e,t){const n=Pe(t);const r=Fe(t);const i=Zs(e,t);return n&&r?ys(i):n&&!r?hi(i):!n&&r?Ni(i):i}function Ys(e,t){return globalThis.Object.getOwnPropertyNames(t).reduce((n,r)=>{return{...n,[r]:Js(e,t[r])}},{})}function Xs(e,t){return t.map(t=>Zs(e,t))}function Zs(e,t){return Ue(t)?Is(e,t):Ge(t)?Ls(e,t):qe(t)?Rs(e,t):T(t)?zs(e,t):ft(t)?Bs(e,t):Re(t)?Vs(e,t):ze(t)?Hs(e,t):Je(t)?Us(e,t):it(t)?Ws(e,t):rt(t)?Gs(e,t):at(t)?Ks(e,t):Le(t)?qs(e,t):t}function Qs(e,t){return Zs(t,ue(e))}function $s(e){return b({[S]:`Integer`,type:`integer`},e)}function ec(e,t,n){return{[e]:dc(I(e),t,le(n))}}function tc(e,t,n){const r=e.reduce((e,r)=>{return{...e,...ec(r,t,n)}},{});return r}function nc(e,t,n){return tc(e[`keys`],t,n)}function rc(e,t,n){const r=nc(e,t,n);return P(r)}function ic(e){const[t,n]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),n].join(``)}function ac(e){const[t,n]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),n].join(``)}function oc(e){return e.toUpperCase()}function sc(e){return e.toLowerCase()}function cc(e,t,n){const r=dr(e.pattern);const i=gr(r);if(!i)return{...e,pattern:lc(e.pattern,t)};const a=[...Cr(r)];const o=a.map(e=>I(e));const s=uc(o,t);const c=F(s);return Rr([c],n)}function lc(e,t){return typeof e===`string`?t===`Uncapitalize`?ic(e):t===`Capitalize`?ac(e):t===`Uppercase`?oc(e):t===`Lowercase`?sc(e):e:e.toString()}function uc(e,t){return e.map(e=>dc(e,t))}function dc(e,t,n={}){return Ze(e)?rc(e,t,n):ut(e)?cc(e,t,n):T(e)?F(uc(e.anyOf,t),n):Xe(e)?I(lc(e.const,t),n):b(e,n)}function fc(e,t={}){return dc(e,`Capitalize`,t)}function pc(e,t={}){return dc(e,`Lowercase`,t)}function mc(e,t={}){return dc(e,`Uncapitalize`,t)}function hc(e,t={}){return dc(e,`Uppercase`,t)}function gc(e,t,n){const r={};for(const i of globalThis.Object.getOwnPropertyNames(e))r[i]=Ec(e[i],t,le(n));return r}function _c(e,t,n){return gc(e.properties,t,n)}function vc(e,t,n){const r=_c(e,t,n);return P(r)}function yc(e,t){return e.map(e=>Tc(e,t))}function bc(e,t){return e.map(e=>Tc(e,t))}function xc(e,t){const{[t]:n,...r}=e;return r}function Sc(e,t){return t.reduce((e,t)=>xc(e,t),e)}function Cc(e,t){const n=Un(e,[Ae,`$id`,`required`,`properties`]);const r=Sc(e[`properties`],t);return L(r,n)}function wc(e){const t=e.reduce((e,t)=>Ye(t)?[...e,I(t)]:e,[]);return F(t)}function Tc(e,t){return qe(e)?Ui(yc(e.allOf,t)):T(e)?F(bc(e.anyOf,t)):rt(e)?Cc(e,t):L({})}function Ec(e,t,n){const i=r(t)?wc(t):t;const a=yt(t)?Hr(t):t;const o=ot(e);const s=ot(t);return Qe(e)?vc(e,a,n):Ze(t)?Ac(e,t,n):o&&s?M(`Omit`,[e,i],n):!o&&s?M(`Omit`,[e,i],n):o&&!s?M(`Omit`,[e,i],n):b({...Tc(e,a),...n})}function Dc(e,t,n){return{[t]:Ec(e,[t],le(n))}}function Oc(e,t,n){return t.reduce((t,r)=>{return{...t,...Dc(e,r,n)}},{})}function kc(e,t,n){return Oc(e,t.keys,n)}function Ac(e,t,n){const r=kc(e,t,n);return P(r)}function jc(e,t,n){const r={};for(const i of globalThis.Object.getOwnPropertyNames(e))r[i]=Bc(e[i],t,le(n));return r}function Mc(e,t,n){return jc(e.properties,t,n)}function Nc(e,t,n){const r=Mc(e,t,n);return P(r)}function Pc(e,t){return e.map(e=>zc(e,t))}function Fc(e,t){return e.map(e=>zc(e,t))}function Ic(e,t){const n={};for(const r of t)if(r in e)n[r]=e[r];return n}function Lc(e,t){const n=Un(e,[Ae,`$id`,`required`,`properties`]);const r=Ic(e[`properties`],t);return L(r,n)}function Rc(e){const t=e.reduce((e,t)=>Ye(t)?[...e,I(t)]:e,[]);return F(t)}function zc(e,t){return qe(e)?Ui(Pc(e.allOf,t)):T(e)?F(Fc(e.anyOf,t)):rt(e)?Lc(e,t):L({})}function Bc(e,t,n){const i=r(t)?Rc(t):t;const a=yt(t)?Hr(t):t;const o=ot(e);const s=ot(t);return Qe(e)?Nc(e,a,n):Ze(t)?Wc(e,t,n):o&&s?M(`Pick`,[e,i],n):!o&&s?M(`Pick`,[e,i],n):o&&!s?M(`Pick`,[e,i],n):b({...zc(e,a),...n})}function Vc(e,t,n){return{[t]:Bc(e,[t],le(n))}}function Hc(e,t,n){return t.reduce((t,r)=>{return{...t,...Vc(e,r,n)}},{})}function Uc(e,t,n){return Hc(e,t.keys,n)}function Wc(e,t,n){const r=Uc(e,t,n);return P(r)}function Gc(e,t){return M(`Partial`,[M(e,t)])}function Kc(e){return M(`Partial`,[Wi(e)])}function qc(e){const t={};for(const n of globalThis.Object.getOwnPropertyNames(e))t[n]=Ni(e[n]);return t}function Jc(e){const t=Un(e,[Ae,`$id`,`required`,`properties`]);const n=qc(e[`properties`]);return L(n,t)}function Yc(e){return e.map(e=>Xc(e))}function Xc(e){return He(e)?Gc(e.target,e.parameters):ot(e)?Kc(e.$ref):qe(e)?Ui(Yc(e.allOf)):T(e)?F(Yc(e.anyOf)):rt(e)?Jc(e):Be(e)?e:Ve(e)?e:Ke(e)?e:Xe(e)?e:tt(e)?e:nt(e)?e:ct(e)?e:lt(e)?e:pt(e)?e:L({})}function Zc(e,t){if(Qe(e))return el(e,t);else return b({...Xc(e),...t})}function Qc(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=Zc(e[r],le(t));return n}function $c(e,t){return Qc(e.properties,t)}function el(e,t){const n=$c(e,t);return P(n)}function tl(e,t){return M(`Required`,[M(e,t)])}function nl(e){return M(`Required`,[Wi(e)])}function rl(e){const t={};for(const n of globalThis.Object.getOwnPropertyNames(e))t[n]=Un(e[n],[Me]);return t}function il(e){const t=Un(e,[Ae,`$id`,`required`,`properties`]);const n=rl(e[`properties`]);return L(n,t)}function al(e){return e.map(e=>ol(e))}function ol(e){return He(e)?tl(e.target,e.parameters):ot(e)?nl(e.$ref):qe(e)?Ui(al(e.allOf)):T(e)?F(al(e.anyOf)):rt(e)?il(e):Be(e)?e:Ve(e)?e:Ke(e)?e:Xe(e)?e:tt(e)?e:nt(e)?e:ct(e)?e:lt(e)?e:pt(e)?e:L({})}function sl(e,t){if(Qe(e))return ul(e,t);else return b({...ol(e),...t})}function cl(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=sl(e[r],t);return n}function ll(e,t){return cl(e.properties,t)}function ul(e,t){const n=ll(e,t);return P(n)}function dl(e,t){return t.map(t=>{return ot(t)?fl(e,t.$ref):Nl(e,t)})}function fl(e,t){return t in e?ot(e[t])?fl(e,e[t].$ref):Nl(e,e[t]):N()}function pl(e){return Zi(e[0])}function ml(e){return ri(e[0],e[1])}function hl(e){return fa(e[0])}function gl(e){return Zc(e[0])}function _l(e){return Ec(e[0],e[1])}function vl(e){return Bc(e[0],e[1])}function yl(e){return sl(e[0])}function bl(e,t,n){const r=dl(e,n);return t===`Awaited`?pl(r):t===`Index`?ml(r):t===`KeyOf`?hl(r):t===`Partial`?gl(r):t===`Omit`?_l(r):t===`Pick`?vl(r):t===`Required`?yl(r):N()}function xl(e,t){return zn(Nl(e,t))}function Sl(e,t){return Vn(Nl(e,t))}function Cl(e,t,n){return Wn(Ml(e,t),Nl(e,n))}function wl(e,t,n){return Gn(Ml(e,t),Nl(e,n))}function Tl(e,t){return Ui(Ml(e,t))}function El(e,t){return ci(Nl(e,t))}function Dl(e,t){return L(globalThis.Object.keys(t).reduce((n,r)=>{return{...n,[r]:Nl(e,t[r])}},{}))}function Ol(e,t){const[n,r]=[Nl(e,Fs(t)),Ns(t)];const i=ue(t);i.patternProperties[r]=n;return i}function kl(e,t){return ot(t)?{...fl(e,t.$ref),[Ae]:t[Ae]}:t}function Al(e,t){return yi(Ml(e,t))}function jl(e,t){return F(Ml(e,t))}function Ml(e,t){return t.map(t=>Nl(e,t))}function Nl(e,t){return Fe(t)?b(Nl(e,Un(t,[Me])),t):Pe(t)?b(Nl(e,Un(t,[je])),t):w(t)?b(kl(e,t),t):Re(t)?b(xl(e,t.items),t):ze(t)?b(Sl(e,t.items),t):He(t)?b(bl(e,t.target,t.parameters)):Ue(t)?b(Cl(e,t.parameters,t.returns),t):Ge(t)?b(wl(e,t.parameters,t.returns),t):qe(t)?b(Tl(e,t.allOf),t):Je(t)?b(El(e,t.items),t):rt(t)?b(Dl(e,t.properties),t):at(t)?b(Ol(e,t)):ft(t)?b(Al(e,t.items||[]),t):T(t)?b(jl(e,t.anyOf),t):t}function Pl(e,t){return t in e?Nl(e,e[t]):N()}function Fl(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,n)=>{return{...t,[n]:Pl(e,n)}},{})}var Il=class{constructor(e){const t=Fl(e);const n=this.WithIdentifiers(t);this.$defs=n}Import(e,t){const n={...this.$defs,[e]:b(this.$defs[e],t)};return b({[S]:`Import`,$defs:n,$ref:e})}WithIdentifiers(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,n)=>{return{...t,[n]:{...e[n],$id:n}}},{})}};function Ll(e){return new Il(e)}function Rl(e,t){return b({[S]:`Not`,not:e},t)}function zl(e,t){return Ge(e)?yi(e.parameters,t):N()}let Bl=0;function Vl(e,t={}){if(p(t.$id))t.$id=`T${Bl++}`;const n=ue(e({[S]:`This`,$ref:`${t.$id}`}));n.$id=t.$id;return b({[Ne]:`Recursive`,...n},t)}function Hl(e,t){const n=f(e)?new globalThis.RegExp(e):e;return b({[S]:`RegExp`,type:`RegExp`,source:n.source,flags:n.flags},t)}function Ul(e){return qe(e)?e.allOf:T(e)?e.anyOf:ft(e)?e.items??[]:[]}function Wl(e){return Ul(e)}function Gl(e,t){return Ge(e)?b(e.returns,t):N(t)}var Kl=class{constructor(e){this.schema=e}Decode(e){return new ql(this.schema,e)}};var ql=class{constructor(e,t){this.schema=e;this.decode=t}EncodeTransform(e,t){const n=n=>t[Ae].Encode(e(n));const r=e=>this.decode(t[Ae].Decode(e));const i={Encode:n,Decode:r};return{...t,[Ae]:i}}EncodeSchema(e,t){const n={Decode:this.decode,Encode:e};return{...t,[Ae]:n}}Encode(e){return w(this.schema)?this.EncodeTransform(e,this.schema):this.EncodeSchema(e,this.schema)}};function Jl(e){return new Kl(e)}function Yl(e={}){return b({[S]:e[S]??`Unsafe`},e)}function Xl(e){return b({[S]:`Void`,type:`void`},e)}var Zl={};t(Zl,{Any:()=>Rn,Argument:()=>Bn,Array:()=>zn,AsyncIterator:()=>Vn,Awaited:()=>Zi,BigInt:()=>Er,Boolean:()=>Tr,Capitalize:()=>fc,Composite:()=>xa,Const:()=>Ma,Constructor:()=>Wn,ConstructorParameters:()=>Na,Date:()=>Sa,Enum:()=>Pa,Exclude:()=>cs,Extends:()=>Yo,Extract:()=>ms,Function:()=>Gn,Index:()=>ri,InstanceType:()=>vs,Instantiate:()=>Qs,Integer:()=>$s,Intersect:()=>Ui,Iterator:()=>ci,KeyOf:()=>fa,Literal:()=>I,Lowercase:()=>pc,Mapped:()=>ki,Module:()=>Ll,Never:()=>N,Not:()=>Rl,Null:()=>Ca,Number:()=>Dr,Object:()=>L,Omit:()=>Ec,Optional:()=>Ni,Parameters:()=>zl,Partial:()=>Zc,Pick:()=>Bc,Promise:()=>di,Readonly:()=>hi,ReadonlyOptional:()=>ys,Record:()=>Ms,Recursive:()=>Vl,Ref:()=>Wi,RegExp:()=>Hl,Required:()=>sl,Rest:()=>Wl,ReturnType:()=>Gl,String:()=>Or,Symbol:()=>wa,TemplateLiteral:()=>Rr,Transform:()=>Jl,Tuple:()=>yi,Uint8Array:()=>Ea,Uncapitalize:()=>mc,Undefined:()=>Ta,Union:()=>F,Unknown:()=>Da,Unsafe:()=>Yl,Uppercase:()=>hc,Void:()=>Xl});const U=Zl;function Ql(e){switch(e.errorType){case q.ArrayContains:return`Expected array to contain at least one matching value`;case q.ArrayMaxContains:return`Expected array to contain no more than ${e.schema.maxContains} matching values`;case q.ArrayMinContains:return`Expected array to contain at least ${e.schema.minContains} matching values`;case q.ArrayMaxItems:return`Expected array length to be less or equal to ${e.schema.maxItems}`;case q.ArrayMinItems:return`Expected array length to be greater or equal to ${e.schema.minItems}`;case q.ArrayUniqueItems:return`Expected array elements to be unique`;case q.Array:return`Expected array`;case q.AsyncIterator:return`Expected AsyncIterator`;case q.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.schema.exclusiveMaximum}`;case q.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.schema.exclusiveMinimum}`;case q.BigIntMaximum:return`Expected bigint to be less or equal to ${e.schema.maximum}`;case q.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.schema.minimum}`;case q.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.schema.multipleOf}`;case q.BigInt:return`Expected bigint`;case q.Boolean:return`Expected boolean`;case q.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.schema.exclusiveMinimumTimestamp}`;case q.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.schema.exclusiveMaximumTimestamp}`;case q.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.schema.minimumTimestamp}`;case q.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.schema.maximumTimestamp}`;case q.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.schema.multipleOfTimestamp}`;case q.Date:return`Expected Date`;case q.Function:return`Expected function`;case q.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.schema.exclusiveMaximum}`;case q.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.schema.exclusiveMinimum}`;case q.IntegerMaximum:return`Expected integer to be less or equal to ${e.schema.maximum}`;case q.IntegerMinimum:return`Expected integer to be greater or equal to ${e.schema.minimum}`;case q.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.schema.multipleOf}`;case q.Integer:return`Expected integer`;case q.IntersectUnevaluatedProperties:return`Unexpected property`;case q.Intersect:return`Expected all values to match`;case q.Iterator:return`Expected Iterator`;case q.Literal:return`Expected ${typeof e.schema.const===`string`?`'${e.schema.const}'`:e.schema.const}`;case q.Never:return`Never`;case q.Not:return`Value should not match`;case q.Null:return`Expected null`;case q.NumberExclusiveMaximum:return`Expected number to be less than ${e.schema.exclusiveMaximum}`;case q.NumberExclusiveMinimum:return`Expected number to be greater than ${e.schema.exclusiveMinimum}`;case q.NumberMaximum:return`Expected number to be less or equal to ${e.schema.maximum}`;case q.NumberMinimum:return`Expected number to be greater or equal to ${e.schema.minimum}`;case q.NumberMultipleOf:return`Expected number to be a multiple of ${e.schema.multipleOf}`;case q.Number:return`Expected number`;case q.Object:return`Expected object`;case q.ObjectAdditionalProperties:return`Unexpected property`;case q.ObjectMaxProperties:return`Expected object to have no more than ${e.schema.maxProperties} properties`;case q.ObjectMinProperties:return`Expected object to have at least ${e.schema.minProperties} properties`;case q.ObjectRequiredProperty:return`Expected required property`;case q.Promise:return`Expected Promise`;case q.RegExp:return`Expected string to match regular expression`;case q.StringFormatUnknown:return`Unknown format '${e.schema.format}'`;case q.StringFormat:return`Expected string to match '${e.schema.format}' format`;case q.StringMaxLength:return`Expected string length less or equal to ${e.schema.maxLength}`;case q.StringMinLength:return`Expected string length greater or equal to ${e.schema.minLength}`;case q.StringPattern:return`Expected string to match '${e.schema.pattern}'`;case q.String:return`Expected string`;case q.Symbol:return`Expected symbol`;case q.TupleLength:return`Expected tuple to have ${e.schema.maxItems||0} elements`;case q.Tuple:return`Expected tuple`;case q.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.schema.maxByteLength}`;case q.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.schema.minByteLength}`;case q.Uint8Array:return`Expected Uint8Array`;case q.Undefined:return`Expected undefined`;case q.Union:return`Expected union value`;case q.Void:return`Expected void`;case q.Kind:return`Expected kind '${e.schema[S]}'`;default:return`Unknown error type`}}let $l=Ql;function eu(){return $l}var tu=class extends x{constructor(e){super(`Unable to dereference schema with $id '${e.$ref}'`);this.schema=e}};function nu(e,t){const n=t.find(t=>t.$id===e.$ref);if(n===void 0)throw new tu(e);return iu(n,t)}function ru(e,t){if(!Se(e.$id)||t.some(t=>t.$id===e.$id))return t;t.push(e);return t}function iu(e,t){return e[S]===`This`||e[S]===`Ref`?nu(e,t):e}var au=class extends x{constructor(e){super(`Unable to hash value`);this.value=e}};var ou;(function(e){e[e[`Undefined`]=0]=`Undefined`;e[e[`Null`]=1]=`Null`;e[e[`Boolean`]=2]=`Boolean`;e[e[`Number`]=3]=`Number`;e[e[`String`]=4]=`String`;e[e[`Object`]=5]=`Object`;e[e[`Array`]=6]=`Array`;e[e[`Date`]=7]=`Date`;e[e[`Uint8Array`]=8]=`Uint8Array`;e[e[`Symbol`]=9]=`Symbol`;e[e[`BigInt`]=10]=`BigInt`})(ou||(ou={}));let su=BigInt(`14695981039346656037`);const[cu,lu]=[BigInt(`1099511628211`),BigInt(`18446744073709551616`)];const uu=Array.from({length:256}).map((e,t)=>BigInt(t));const du=new Float64Array(1);const fu=new DataView(du.buffer);const pu=new Uint8Array(du.buffer);function*mu(e){const t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let n=0;n<t;n++)yield e>>8*(t-1-n)&255}function hu(e){W(ou.Array);for(const t of e)Eu(t)}function gu(e){W(ou.Boolean);W(e?1:0)}function _u(e){W(ou.BigInt);fu.setBigInt64(0,e);for(const e of pu)W(e)}function vu(e){W(ou.Date);Eu(e.getTime())}function yu(e){W(ou.Null)}function bu(e){W(ou.Number);fu.setFloat64(0,e);for(const e of pu)W(e)}function xu(e){W(ou.Object);for(const t of globalThis.Object.getOwnPropertyNames(e).sort()){Eu(t);Eu(e[t])}}function Su(e){W(ou.String);for(let t=0;t<e.length;t++)for(const n of mu(e.charCodeAt(t)))W(n)}function Cu(e){W(ou.Symbol);Eu(e.description)}function wu(e){W(ou.Uint8Array);for(let t=0;t<e.length;t++)W(e[t])}function Tu(e){return W(ou.Undefined)}function Eu(e){if(m(e))return hu(e);if(be(e))return gu(e);if(g(e))return _u(e);if(me(e))return vu(e);if(ye(e))return yu(e);if(h(e))return bu(e);if(_e(e))return xu(e);if(Se(e))return Su(e);if(v(e))return Cu(e);if(he(e))return wu(e);if(ve(e))return Tu(e);throw new au(e)}function W(e){su=su^uu[e];su=su*cu%lu}function Du(e){su=BigInt(`14695981039346656037`);Eu(e);return su}var Ou=class extends x{constructor(e){super(`Unknown type`);this.schema=e}};function ku(e){return e[S]===`Any`||e[S]===`Unknown`}function G(e){return e!==void 0}function Au(e,t,n){return true}function ju(e,t,n){return true}function Mu(e,t,n){if(!m(n))return false;if(G(e.minItems)&&!(n.length>=e.minItems))return false;if(G(e.maxItems)&&!(n.length<=e.maxItems))return false;if(!n.every(n=>K(e.items,t,n)))return false;if(e.uniqueItems===true&&!function(){const e=new Set;for(const t of n){const n=Du(t);if(e.has(n))return false;else e.add(n)}return true}())return false;if(!(G(e.contains)||h(e.minContains)||h(e.maxContains)))return true;const r=G(e.contains)?e.contains:N();const i=n.reduce((e,n)=>K(r,t,n)?e+1:e,0);if(i===0)return false;if(h(e.minContains)&&i<e.minContains)return false;if(h(e.maxContains)&&i>e.maxContains)return false;return true}function Nu(e,t,n){return de(n)}function Pu(e,t,n){if(!g(n))return false;if(G(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum))return false;if(G(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum))return false;if(G(e.maximum)&&!(n<=e.maximum))return false;if(G(e.minimum)&&!(n>=e.minimum))return false;if(G(e.multipleOf)&&!(n%e.multipleOf===BigInt(0)))return false;return true}function Fu(e,t,n){return be(n)}function Iu(e,t,n){return K(e.returns,t,n.prototype)}function Lu(e,t,n){if(!me(n))return false;if(G(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp))return false;if(G(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp))return false;if(G(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp))return false;if(G(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp))return false;if(G(e.multipleOfTimestamp)&&!(n.getTime()%e.multipleOfTimestamp===0))return false;return true}function Ru(e,t,n){return _(n)}function zu(e,t,n){const r=globalThis.Object.values(e.$defs);const i=e.$defs[e.$ref];return K(i,[...t,...r],n)}function Bu(e,t,n){if(!xe(n))return false;if(G(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum))return false;if(G(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum))return false;if(G(e.maximum)&&!(n<=e.maximum))return false;if(G(e.minimum)&&!(n>=e.minimum))return false;if(G(e.multipleOf)&&!(n%e.multipleOf===0))return false;return true}function Vu(e,t,n){const r=e.allOf.every(e=>K(e,t,n));if(e.unevaluatedProperties===false){const t=new RegExp(sa(e));const i=Object.getOwnPropertyNames(n).every(e=>t.test(e));return r&&i}else if(yt(e.unevaluatedProperties)){const i=new RegExp(sa(e));const a=Object.getOwnPropertyNames(n).every(r=>i.test(r)||K(e.unevaluatedProperties,t,n[r]));return r&&a}else return r}function Hu(e,t,n){return fe(n)}function Uu(e,t,n){return n===e.const}function Wu(e,t,n){return false}function Gu(e,t,n){return!K(e.not,t,n)}function Ku(e,t,n){return ye(n)}function qu(e,t,n){if(!y.IsNumberLike(n))return false;if(G(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum))return false;if(G(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum))return false;if(G(e.minimum)&&!(n>=e.minimum))return false;if(G(e.maximum)&&!(n<=e.maximum))return false;if(G(e.multipleOf)&&!(n%e.multipleOf===0))return false;return true}function Ju(e,t,n){if(!y.IsObjectLike(n))return false;if(G(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties))return false;if(G(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties))return false;const r=Object.getOwnPropertyNames(e.properties);for(const i of r){const r=e.properties[i];if(e.required&&e.required.includes(i)){if(!K(r,t,n[i]))return false;if((rs(r)||ku(r))&&!(i in n))return false}else if(y.IsExactOptionalProperty(n,i)&&!K(r,t,n[i]))return false}if(e.additionalProperties===false){const t=Object.getOwnPropertyNames(n);if(e.required&&e.required.length===r.length&&t.length===r.length)return true;else return t.every(e=>r.includes(e))}else if(typeof e.additionalProperties===`object`){const i=Object.getOwnPropertyNames(n);return i.every(i=>r.includes(i)||K(e.additionalProperties,t,n[i]))}else return true}function Yu(e,t,n){return pe(n)}function Xu(e,t,n){if(!y.IsRecordLike(n))return false;if(G(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties))return false;if(G(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties))return false;const[r,i]=Object.entries(e.patternProperties)[0];const a=new RegExp(r);const o=Object.entries(n).every(([e,n])=>{return a.test(e)?K(i,t,n):true});const s=typeof e.additionalProperties===`object`?Object.entries(n).every(([n,r])=>{return!a.test(n)?K(e.additionalProperties,t,r):true}):true;const c=e.additionalProperties===false?Object.getOwnPropertyNames(n).every(e=>{return a.test(e)}):true;return o&&s&&c}function Zu(e,t,n){return K(iu(e,t),t,n)}function Qu(e,t,n){const r=new RegExp(e.source,e.flags);if(G(e.minLength)){if(!(n.length>=e.minLength))return false}if(G(e.maxLength)){if(!(n.length<=e.maxLength))return false}return r.test(n)}function $u(e,t,n){if(!Se(n))return false;if(G(e.minLength)){if(!(n.length>=e.minLength))return false}if(G(e.maxLength)){if(!(n.length<=e.maxLength))return false}if(G(e.pattern)){const t=new RegExp(e.pattern);if(!t.test(n))return false}if(G(e.format)){if(!Dn(e.format))return false;const t=On(e.format);return t(n)}return true}function ed(e,t,n){return v(n)}function td(e,t,n){return Se(n)&&new RegExp(e.pattern).test(n)}function nd(e,t,n){return K(iu(e,t),t,n)}function rd(e,t,n){if(!m(n))return false;if(e.items===void 0&&!(n.length===0))return false;if(!(n.length===e.maxItems))return false;if(!e.items)return true;for(let r=0;r<e.items.length;r++)if(!K(e.items[r],t,n[r]))return false;return true}function id(e,t,n){return ve(n)}function ad(e,t,n){return e.anyOf.some(e=>K(e,t,n))}function od(e,t,n){if(!he(n))return false;if(G(e.maxByteLength)&&!(n.length<=e.maxByteLength))return false;if(G(e.minByteLength)&&!(n.length>=e.minByteLength))return false;return true}function sd(e,t,n){return true}function cd(e,t,n){return y.IsVoidLike(n)}function ld(e,t,n){if(!An(e[S]))return false;const r=jn(e[S]);return r(e,n)}function K(e,t,n){const r=G(e.$id)?ru(e,t):t;const i=e;switch(i[S]){case`Any`:return Au(i,r,n);case`Argument`:return ju(i,r,n);case`Array`:return Mu(i,r,n);case`AsyncIterator`:return Nu(i,r,n);case`BigInt`:return Pu(i,r,n);case`Boolean`:return Fu(i,r,n);case`Constructor`:return Iu(i,r,n);case`Date`:return Lu(i,r,n);case`Function`:return Ru(i,r,n);case`Import`:return zu(i,r,n);case`Integer`:return Bu(i,r,n);case`Intersect`:return Vu(i,r,n);case`Iterator`:return Hu(i,r,n);case`Literal`:return Uu(i,r,n);case`Never`:return Wu(i,r,n);case`Not`:return Gu(i,r,n);case`Null`:return Ku(i,r,n);case`Number`:return qu(i,r,n);case`Object`:return Ju(i,r,n);case`Promise`:return Yu(i,r,n);case`Record`:return Xu(i,r,n);case`Ref`:return Zu(i,r,n);case`RegExp`:return Qu(i,r,n);case`String`:return $u(i,r,n);case`Symbol`:return ed(i,r,n);case`TemplateLiteral`:return td(i,r,n);case`This`:return nd(i,r,n);case`Tuple`:return rd(i,r,n);case`Undefined`:return id(i,r,n);case`Union`:return ad(i,r,n);case`Uint8Array`:return od(i,r,n);case`Unknown`:return sd(i,r,n);case`Void`:return cd(i,r,n);default:if(!An(i[S]))throw new Ou(i);return ld(i,r,n)}}function ud(...e){return e.length===3?K(e[0],e[1],e[2]):K(e[0],[],e[1])}var q;(function(e){e[e[`ArrayContains`]=0]=`ArrayContains`;e[e[`ArrayMaxContains`]=1]=`ArrayMaxContains`;e[e[`ArrayMaxItems`]=2]=`ArrayMaxItems`;e[e[`ArrayMinContains`]=3]=`ArrayMinContains`;e[e[`ArrayMinItems`]=4]=`ArrayMinItems`;e[e[`ArrayUniqueItems`]=5]=`ArrayUniqueItems`;e[e[`Array`]=6]=`Array`;e[e[`AsyncIterator`]=7]=`AsyncIterator`;e[e[`BigIntExclusiveMaximum`]=8]=`BigIntExclusiveMaximum`;e[e[`BigIntExclusiveMinimum`]=9]=`BigIntExclusiveMinimum`;e[e[`BigIntMaximum`]=10]=`BigIntMaximum`;e[e[`BigIntMinimum`]=11]=`BigIntMinimum`;e[e[`BigIntMultipleOf`]=12]=`BigIntMultipleOf`;e[e[`BigInt`]=13]=`BigInt`;e[e[`Boolean`]=14]=`Boolean`;e[e[`DateExclusiveMaximumTimestamp`]=15]=`DateExclusiveMaximumTimestamp`;e[e[`DateExclusiveMinimumTimestamp`]=16]=`DateExclusiveMinimumTimestamp`;e[e[`DateMaximumTimestamp`]=17]=`DateMaximumTimestamp`;e[e[`DateMinimumTimestamp`]=18]=`DateMinimumTimestamp`;e[e[`DateMultipleOfTimestamp`]=19]=`DateMultipleOfTimestamp`;e[e[`Date`]=20]=`Date`;e[e[`Function`]=21]=`Function`;e[e[`IntegerExclusiveMaximum`]=22]=`IntegerExclusiveMaximum`;e[e[`IntegerExclusiveMinimum`]=23]=`IntegerExclusiveMinimum`;e[e[`IntegerMaximum`]=24]=`IntegerMaximum`;e[e[`IntegerMinimum`]=25]=`IntegerMinimum`;e[e[`IntegerMultipleOf`]=26]=`IntegerMultipleOf`;e[e[`Integer`]=27]=`Integer`;e[e[`IntersectUnevaluatedProperties`]=28]=`IntersectUnevaluatedProperties`;e[e[`Intersect`]=29]=`Intersect`;e[e[`Iterator`]=30]=`Iterator`;e[e[`Kind`]=31]=`Kind`;e[e[`Literal`]=32]=`Literal`;e[e[`Never`]=33]=`Never`;e[e[`Not`]=34]=`Not`;e[e[`Null`]=35]=`Null`;e[e[`NumberExclusiveMaximum`]=36]=`NumberExclusiveMaximum`;e[e[`NumberExclusiveMinimum`]=37]=`NumberExclusiveMinimum`;e[e[`NumberMaximum`]=38]=`NumberMaximum`;e[e[`NumberMinimum`]=39]=`NumberMinimum`;e[e[`NumberMultipleOf`]=40]=`NumberMultipleOf`;e[e[`Number`]=41]=`Number`;e[e[`ObjectAdditionalProperties`]=42]=`ObjectAdditionalProperties`;e[e[`ObjectMaxProperties`]=43]=`ObjectMaxProperties`;e[e[`ObjectMinProperties`]=44]=`ObjectMinProperties`;e[e[`ObjectRequiredProperty`]=45]=`ObjectRequiredProperty`;e[e[`Object`]=46]=`Object`;e[e[`Promise`]=47]=`Promise`;e[e[`RegExp`]=48]=`RegExp`;e[e[`StringFormatUnknown`]=49]=`StringFormatUnknown`;e[e[`StringFormat`]=50]=`StringFormat`;e[e[`StringMaxLength`]=51]=`StringMaxLength`;e[e[`StringMinLength`]=52]=`StringMinLength`;e[e[`StringPattern`]=53]=`StringPattern`;e[e[`String`]=54]=`String`;e[e[`Symbol`]=55]=`Symbol`;e[e[`TupleLength`]=56]=`TupleLength`;e[e[`Tuple`]=57]=`Tuple`;e[e[`Uint8ArrayMaxByteLength`]=58]=`Uint8ArrayMaxByteLength`;e[e[`Uint8ArrayMinByteLength`]=59]=`Uint8ArrayMinByteLength`;e[e[`Uint8Array`]=60]=`Uint8Array`;e[e[`Undefined`]=61]=`Undefined`;e[e[`Union`]=62]=`Union`;e[e[`Void`]=63]=`Void`})(q||(q={}));var dd=class extends x{constructor(e){super(`Unknown type`);this.schema=e}};function fd(e){return e.replace(/~/g,`~0`).replace(/\//g,`~1`)}function J(e){return e!==void 0}var pd=class{constructor(e){this.iterator=e}[Symbol.iterator](){return this.iterator}First(){const e=this.iterator.next();return e.done?void 0:e.value}};function Y(e,t,n,r,i=[]){return{type:e,schema:t,path:n,value:r,message:eu()({errorType:e,path:n,schema:t,value:r,errors:i}),errors:i}}function*md(e,t,n,r){}function*hd(e,t,n,r){}function*gd(e,t,n,r){if(!m(r))return yield Y(q.Array,e,n,r);if(J(e.minItems)&&!(r.length>=e.minItems))yield Y(q.ArrayMinItems,e,n,r);if(J(e.maxItems)&&!(r.length<=e.maxItems))yield Y(q.ArrayMaxItems,e,n,r);for(let i=0;i<r.length;i++)yield*X(e.items,t,`${n}/${i}`,r[i]);if(e.uniqueItems===true&&!function(){const e=new Set;for(const t of r){const n=Du(t);if(e.has(n))return false;else e.add(n)}return true}())yield Y(q.ArrayUniqueItems,e,n,r);if(!(J(e.contains)||J(e.minContains)||J(e.maxContains)))return;const i=J(e.contains)?e.contains:N();const a=r.reduce((e,r,a)=>X(i,t,`${n}${a}`,r).next().done===true?e+1:e,0);if(a===0)yield Y(q.ArrayContains,e,n,r);if(h(e.minContains)&&a<e.minContains)yield Y(q.ArrayMinContains,e,n,r);if(h(e.maxContains)&&a>e.maxContains)yield Y(q.ArrayMaxContains,e,n,r)}function*_d(e,t,n,r){if(!de(r))yield Y(q.AsyncIterator,e,n,r)}function*vd(e,t,n,r){if(!g(r))return yield Y(q.BigInt,e,n,r);if(J(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum))yield Y(q.BigIntExclusiveMaximum,e,n,r);if(J(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum))yield Y(q.BigIntExclusiveMinimum,e,n,r);if(J(e.maximum)&&!(r<=e.maximum))yield Y(q.BigIntMaximum,e,n,r);if(J(e.minimum)&&!(r>=e.minimum))yield Y(q.BigIntMinimum,e,n,r);if(J(e.multipleOf)&&!(r%e.multipleOf===BigInt(0)))yield Y(q.BigIntMultipleOf,e,n,r)}function*yd(e,t,n,r){if(!be(r))yield Y(q.Boolean,e,n,r)}function*bd(e,t,n,r){yield*X(e.returns,t,n,r.prototype)}function*xd(e,t,n,r){if(!me(r))return yield Y(q.Date,e,n,r);if(J(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp))yield Y(q.DateExclusiveMaximumTimestamp,e,n,r);if(J(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp))yield Y(q.DateExclusiveMinimumTimestamp,e,n,r);if(J(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp))yield Y(q.DateMaximumTimestamp,e,n,r);if(J(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp))yield Y(q.DateMinimumTimestamp,e,n,r);if(J(e.multipleOfTimestamp)&&!(r.getTime()%e.multipleOfTimestamp===0))yield Y(q.DateMultipleOfTimestamp,e,n,r)}function*Sd(e,t,n,r){if(!_(r))yield Y(q.Function,e,n,r)}function*Cd(e,t,n,r){const i=globalThis.Object.values(e.$defs);const a=e.$defs[e.$ref];yield*X(a,[...t,...i],n,r)}function*wd(e,t,n,r){if(!xe(r))return yield Y(q.Integer,e,n,r);if(J(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum))yield Y(q.IntegerExclusiveMaximum,e,n,r);if(J(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum))yield Y(q.IntegerExclusiveMinimum,e,n,r);if(J(e.maximum)&&!(r<=e.maximum))yield Y(q.IntegerMaximum,e,n,r);if(J(e.minimum)&&!(r>=e.minimum))yield Y(q.IntegerMinimum,e,n,r);if(J(e.multipleOf)&&!(r%e.multipleOf===0))yield Y(q.IntegerMultipleOf,e,n,r)}function*Td(e,t,n,r){let i=false;for(const a of e.allOf)for(const e of X(a,t,n,r)){i=true;yield e}if(i)return yield Y(q.Intersect,e,n,r);if(e.unevaluatedProperties===false){const t=new RegExp(sa(e));for(const i of Object.getOwnPropertyNames(r))if(!t.test(i))yield Y(q.IntersectUnevaluatedProperties,e,`${n}/${i}`,r)}if(typeof e.unevaluatedProperties===`object`){const i=new RegExp(sa(e));for(const a of Object.getOwnPropertyNames(r))if(!i.test(a)){const i=X(e.unevaluatedProperties,t,`${n}/${a}`,r[a]).next();if(!i.done)yield i.value}}}function*Ed(e,t,n,r){if(!fe(r))yield Y(q.Iterator,e,n,r)}function*Dd(e,t,n,r){if(!(r===e.const))yield Y(q.Literal,e,n,r)}function*Od(e,t,n,r){yield Y(q.Never,e,n,r)}function*kd(e,t,n,r){if(X(e.not,t,n,r).next().done===true)yield Y(q.Not,e,n,r)}function*Ad(e,t,n,r){if(!ye(r))yield Y(q.Null,e,n,r)}function*jd(e,t,n,r){if(!y.IsNumberLike(r))return yield Y(q.Number,e,n,r);if(J(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum))yield Y(q.NumberExclusiveMaximum,e,n,r);if(J(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum))yield Y(q.NumberExclusiveMinimum,e,n,r);if(J(e.maximum)&&!(r<=e.maximum))yield Y(q.NumberMaximum,e,n,r);if(J(e.minimum)&&!(r>=e.minimum))yield Y(q.NumberMinimum,e,n,r);if(J(e.multipleOf)&&!(r%e.multipleOf===0))yield Y(q.NumberMultipleOf,e,n,r)}function*Md(e,t,n,r){if(!y.IsObjectLike(r))return yield Y(q.Object,e,n,r);if(J(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties))yield Y(q.ObjectMinProperties,e,n,r);if(J(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))yield Y(q.ObjectMaxProperties,e,n,r);const i=Array.isArray(e.required)?e.required:[];const a=Object.getOwnPropertyNames(e.properties);const o=Object.getOwnPropertyNames(r);for(const t of i){if(o.includes(t))continue;yield Y(q.ObjectRequiredProperty,e.properties[t],`${n}/${fd(t)}`,void 0)}if(e.additionalProperties===false){for(const t of o)if(!a.includes(t))yield Y(q.ObjectAdditionalProperties,e,`${n}/${fd(t)}`,r[t])}if(typeof e.additionalProperties===`object`)for(const i of o){if(a.includes(i))continue;yield*X(e.additionalProperties,t,`${n}/${fd(i)}`,r[i])}for(const i of a){const a=e.properties[i];if(e.required&&e.required.includes(i)){yield*X(a,t,`${n}/${fd(i)}`,r[i]);if(rs(e)&&!(i in r))yield Y(q.ObjectRequiredProperty,a,`${n}/${fd(i)}`,void 0)}else if(y.IsExactOptionalProperty(r,i))yield*X(a,t,`${n}/${fd(i)}`,r[i])}}function*Nd(e,t,n,r){if(!pe(r))yield Y(q.Promise,e,n,r)}function*Pd(e,t,n,r){if(!y.IsRecordLike(r))return yield Y(q.Object,e,n,r);if(J(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties))yield Y(q.ObjectMinProperties,e,n,r);if(J(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))yield Y(q.ObjectMaxProperties,e,n,r);const[i,a]=Object.entries(e.patternProperties)[0];const o=new RegExp(i);for(const[e,i]of Object.entries(r))if(o.test(e))yield*X(a,t,`${n}/${fd(e)}`,i);if(typeof e.additionalProperties===`object`){for(const[i,a]of Object.entries(r))if(!o.test(i))yield*X(e.additionalProperties,t,`${n}/${fd(i)}`,a)}if(e.additionalProperties===false)for(const[t,i]of Object.entries(r)){if(o.test(t))continue;return yield Y(q.ObjectAdditionalProperties,e,`${n}/${fd(t)}`,i)}}function*Fd(e,t,n,r){yield*X(iu(e,t),t,n,r)}function*Id(e,t,n,r){if(!Se(r))return yield Y(q.String,e,n,r);if(J(e.minLength)&&!(r.length>=e.minLength))yield Y(q.StringMinLength,e,n,r);if(J(e.maxLength)&&!(r.length<=e.maxLength))yield Y(q.StringMaxLength,e,n,r);const i=new RegExp(e.source,e.flags);if(!i.test(r))return yield Y(q.RegExp,e,n,r)}function*Ld(e,t,n,r){if(!Se(r))return yield Y(q.String,e,n,r);if(J(e.minLength)&&!(r.length>=e.minLength))yield Y(q.StringMinLength,e,n,r);if(J(e.maxLength)&&!(r.length<=e.maxLength))yield Y(q.StringMaxLength,e,n,r);if(Se(e.pattern)){const t=new RegExp(e.pattern);if(!t.test(r))yield Y(q.StringPattern,e,n,r)}if(Se(e.format))if(!Dn(e.format))yield Y(q.StringFormatUnknown,e,n,r);else{const t=On(e.format);if(!t(r))yield Y(q.StringFormat,e,n,r)}}function*Rd(e,t,n,r){if(!v(r))yield Y(q.Symbol,e,n,r)}function*zd(e,t,n,r){if(!Se(r))return yield Y(q.String,e,n,r);const i=new RegExp(e.pattern);if(!i.test(r))yield Y(q.StringPattern,e,n,r)}function*Bd(e,t,n,r){yield*X(iu(e,t),t,n,r)}function*Vd(e,t,n,r){if(!m(r))return yield Y(q.Tuple,e,n,r);if(e.items===void 0&&!(r.length===0))return yield Y(q.TupleLength,e,n,r);if(!(r.length===e.maxItems))return yield Y(q.TupleLength,e,n,r);if(!e.items)return;for(let i=0;i<e.items.length;i++)yield*X(e.items[i],t,`${n}/${i}`,r[i])}function*Hd(e,t,n,r){if(!ve(r))yield Y(q.Undefined,e,n,r)}function*Ud(e,t,n,r){if(ud(e,t,r))return;const i=e.anyOf.map(e=>new pd(X(e,t,n,r)));yield Y(q.Union,e,n,r,i)}function*Wd(e,t,n,r){if(!he(r))return yield Y(q.Uint8Array,e,n,r);if(J(e.maxByteLength)&&!(r.length<=e.maxByteLength))yield Y(q.Uint8ArrayMaxByteLength,e,n,r);if(J(e.minByteLength)&&!(r.length>=e.minByteLength))yield Y(q.Uint8ArrayMinByteLength,e,n,r)}function*Gd(e,t,n,r){}function*Kd(e,t,n,r){if(!y.IsVoidLike(r))yield Y(q.Void,e,n,r)}function*qd(e,t,n,r){const i=jn(e[S]);if(!i(e,r))yield Y(q.Kind,e,n,r)}function*X(e,t,n,r){const i=J(e.$id)?[...t,e]:t;const a=e;switch(a[S]){case`Any`:return yield*md(a,i,n,r);case`Argument`:return yield*hd(a,i,n,r);case`Array`:return yield*gd(a,i,n,r);case`AsyncIterator`:return yield*_d(a,i,n,r);case`BigInt`:return yield*vd(a,i,n,r);case`Boolean`:return yield*yd(a,i,n,r);case`Constructor`:return yield*bd(a,i,n,r);case`Date`:return yield*xd(a,i,n,r);case`Function`:return yield*Sd(a,i,n,r);case`Import`:return yield*Cd(a,i,n,r);case`Integer`:return yield*wd(a,i,n,r);case`Intersect`:return yield*Td(a,i,n,r);case`Iterator`:return yield*Ed(a,i,n,r);case`Literal`:return yield*Dd(a,i,n,r);case`Never`:return yield*Od(a,i,n,r);case`Not`:return yield*kd(a,i,n,r);case`Null`:return yield*Ad(a,i,n,r);case`Number`:return yield*jd(a,i,n,r);case`Object`:return yield*Md(a,i,n,r);case`Promise`:return yield*Nd(a,i,n,r);case`Record`:return yield*Pd(a,i,n,r);case`Ref`:return yield*Fd(a,i,n,r);case`RegExp`:return yield*Id(a,i,n,r);case`String`:return yield*Ld(a,i,n,r);case`Symbol`:return yield*Rd(a,i,n,r);case`TemplateLiteral`:return yield*zd(a,i,n,r);case`This`:return yield*Bd(a,i,n,r);case`Tuple`:return yield*Vd(a,i,n,r);case`Undefined`:return yield*Hd(a,i,n,r);case`Union`:return yield*Ud(a,i,n,r);case`Uint8Array`:return yield*Wd(a,i,n,r);case`Unknown`:return yield*Gd(a,i,n,r);case`Void`:return yield*Kd(a,i,n,r);default:if(!An(a[S]))throw new dd(e);return yield*qd(a,i,n,r)}}function Jd(...e){const t=e.length===3?X(e[0],e[1],``,e[2]):X(e[0],[],``,e[1]);return new pd(t)}var Yd=class extends x{constructor(e,t,n){super(`Unable to decode value as it does not match the expected schema`);this.schema=e;this.value=t;this.error=n}};var Xd=class extends x{constructor(e,t,n,r){super(r instanceof Error?r.message:`Unknown error`);this.schema=e;this.path=t;this.value=n;this.error=r}};function Z(e,t,n){try{return w(e)?e[Ae].Decode(n):n}catch(r){throw new Xd(e,t,n,r)}}function Zd(e,t,n,r){return m(r)?Z(e,n,r.map((r,i)=>lf(e.items,t,`${n}/${i}`,r))):Z(e,n,r)}function Qd(e,t,n,r){if(!_e(r)||Ce(r))return Z(e,n,r);const i=ga(e);const a=i.map(e=>e[0]);const o={...r};for(const[e,r]of i)if(e in o)o[e]=lf(r,t,`${n}/${e}`,o[e]);if(!w(e.unevaluatedProperties))return Z(e,n,o);const s=Object.getOwnPropertyNames(o);const c=e.unevaluatedProperties;const l={...o};for(const e of s)if(!a.includes(e))l[e]=Z(c,`${n}/${e}`,l[e]);return Z(e,n,l)}function $d(e,t,n,r){const i=globalThis.Object.values(e.$defs);const a=e.$defs[e.$ref];const o=lf(a,[...t,...i],n,r);return Z(e,n,o)}function ef(e,t,n,r){return Z(e,n,lf(e.not,t,n,r))}function tf(e,t,n,r){if(!_e(r))return Z(e,n,r);const i=aa(e);const a={...r};for(const r of i){if(!ge(a,r))continue;if(ve(a[r])&&(!pt(e.properties[r])||y.IsExactOptionalProperty(a,r)))continue;a[r]=lf(e.properties[r],t,`${n}/${r}`,a[r])}if(!yt(e.additionalProperties))return Z(e,n,a);const o=Object.getOwnPropertyNames(a);const s=e.additionalProperties;const c={...a};for(const e of o)if(!i.includes(e))c[e]=Z(s,`${n}/${e}`,c[e]);return Z(e,n,c)}function nf(e,t,n,r){if(!_e(r))return Z(e,n,r);const i=Object.getOwnPropertyNames(e.patternProperties)[0];const a=new RegExp(i);const o={...r};for(const s of Object.getOwnPropertyNames(r))if(a.test(s))o[s]=lf(e.patternProperties[i],t,`${n}/${s}`,o[s]);if(!yt(e.additionalProperties))return Z(e,n,o);const s=Object.getOwnPropertyNames(o);const c=e.additionalProperties;const l={...o};for(const e of s)if(!a.test(e))l[e]=Z(c,`${n}/${e}`,l[e]);return Z(e,n,l)}function rf(e,t,n,r){const i=iu(e,t);return Z(e,n,lf(i,t,n,r))}function af(e,t,n,r){const i=iu(e,t);return Z(e,n,lf(i,t,n,r))}function sf(e,t,n,r){return m(r)&&m(e.items)?Z(e,n,e.items.map((e,i)=>lf(e,t,`${n}/${i}`,r[i]))):Z(e,n,r)}function cf(e,t,n,r){for(const i of e.anyOf){if(!ud(i,t,r))continue;const a=lf(i,t,n,r);return Z(e,n,a)}return Z(e,n,r)}function lf(e,t,n,r){const i=ru(e,t);const a=e;switch(e[S]){case`Array`:return Zd(a,i,n,r);case`Import`:return $d(a,i,n,r);case`Intersect`:return Qd(a,i,n,r);case`Not`:return ef(a,i,n,r);case`Object`:return tf(a,i,n,r);case`Record`:return nf(a,i,n,r);case`Ref`:return rf(a,i,n,r);case`Symbol`:return Z(a,n,r);case`This`:return af(a,i,n,r);case`Tuple`:return sf(a,i,n,r);case`Union`:return cf(a,i,n,r);default:return Z(a,n,r)}}function uf(e,t,n){return lf(e,t,``,n)}var df=class extends x{constructor(e,t,n){super(`The encoded value does not match the expected schema`);this.schema=e;this.value=t;this.error=n}};var ff=class extends x{constructor(e,t,n,r){super(`${r instanceof Error?r.message:`Unknown error`}`);this.schema=e;this.path=t;this.value=n;this.error=r}};function Q(e,t,n){try{return w(e)?e[Ae].Encode(n):n}catch(r){throw new ff(e,t,n,r)}}function pf(e,t,n,r){const i=Q(e,n,r);return m(i)?i.map((r,i)=>Cf(e.items,t,`${n}/${i}`,r)):i}function mf(e,t,n,r){const i=globalThis.Object.values(e.$defs);const a=e.$defs[e.$ref];const o=Q(e,n,r);return Cf(a,[...t,...i],n,o)}function hf(e,t,n,r){const i=Q(e,n,r);if(!_e(r)||Ce(r))return i;const a=ga(e);const o=a.map(e=>e[0]);const s={...i};for(const[e,r]of a)if(e in s)s[e]=Cf(r,t,`${n}/${e}`,s[e]);if(!w(e.unevaluatedProperties))return s;const c=Object.getOwnPropertyNames(s);const l=e.unevaluatedProperties;const u={...s};for(const e of c)if(!o.includes(e))u[e]=Q(l,`${n}/${e}`,u[e]);return u}function gf(e,t,n,r){return Q(e.not,n,Q(e,n,r))}function _f(e,t,n,r){const i=Q(e,n,r);if(!_e(i))return i;const a=aa(e);const o={...i};for(const r of a){if(!ge(o,r))continue;if(ve(o[r])&&(!pt(e.properties[r])||y.IsExactOptionalProperty(o,r)))continue;o[r]=Cf(e.properties[r],t,`${n}/${r}`,o[r])}if(!yt(e.additionalProperties))return o;const s=Object.getOwnPropertyNames(o);const c=e.additionalProperties;const l={...o};for(const e of s)if(!a.includes(e))l[e]=Q(c,`${n}/${e}`,l[e]);return l}function vf(e,t,n,r){const i=Q(e,n,r);if(!_e(r))return i;const a=Object.getOwnPropertyNames(e.patternProperties)[0];const o=new RegExp(a);const s={...i};for(const i of Object.getOwnPropertyNames(r))if(o.test(i))s[i]=Cf(e.patternProperties[a],t,`${n}/${i}`,s[i]);if(!yt(e.additionalProperties))return s;const c=Object.getOwnPropertyNames(s);const l=e.additionalProperties;const u={...s};for(const e of c)if(!o.test(e))u[e]=Q(l,`${n}/${e}`,u[e]);return u}function yf(e,t,n,r){const i=iu(e,t);const a=Cf(i,t,n,r);return Q(e,n,a)}function bf(e,t,n,r){const i=iu(e,t);const a=Cf(i,t,n,r);return Q(e,n,a)}function xf(e,t,n,r){const i=Q(e,n,r);return m(e.items)?e.items.map((e,r)=>Cf(e,t,`${n}/${r}`,i[r])):[]}function Sf(e,t,n,r){for(const i of e.anyOf){if(!ud(i,t,r))continue;const a=Cf(i,t,n,r);return Q(e,n,a)}for(const i of e.anyOf){const a=Cf(i,t,n,r);if(!ud(e,t,a))continue;return Q(e,n,a)}return Q(e,n,r)}function Cf(e,t,n,r){const i=ru(e,t);const a=e;switch(e[S]){case`Array`:return pf(a,i,n,r);case`Import`:return mf(a,i,n,r);case`Intersect`:return hf(a,i,n,r);case`Not`:return gf(a,i,n,r);case`Object`:return _f(a,i,n,r);case`Record`:return vf(a,i,n,r);case`Ref`:return yf(a,i,n,r);case`This`:return bf(a,i,n,r);case`Tuple`:return xf(a,i,n,r);case`Union`:return Sf(a,i,n,r);default:return Q(a,n,r)}}function wf(e,t,n){return Cf(e,t,``,n)}function Tf(e,t){return w(e)||$(e.items,t)}function Ef(e,t){return w(e)||$(e.items,t)}function Df(e,t){return w(e)||$(e.returns,t)||e.parameters.some(e=>$(e,t))}function Of(e,t){return w(e)||$(e.returns,t)||e.parameters.some(e=>$(e,t))}function kf(e,t){return w(e)||w(e.unevaluatedProperties)||e.allOf.some(e=>$(e,t))}function Af(e,t){const n=globalThis.Object.getOwnPropertyNames(e.$defs).reduce((t,n)=>[...t,e.$defs[n]],[]);const r=e.$defs[e.$ref];return w(e)||$(r,[...n,...t])}function jf(e,t){return w(e)||$(e.items,t)}function Mf(e,t){return w(e)||$(e.not,t)}function Nf(e,t){return w(e)||Object.values(e.properties).some(e=>$(e,t))||yt(e.additionalProperties)&&$(e.additionalProperties,t)}function Pf(e,t){return w(e)||$(e.item,t)}function Ff(e,t){const n=Object.getOwnPropertyNames(e.patternProperties)[0];const r=e.patternProperties[n];return w(e)||$(r,t)||yt(e.additionalProperties)&&w(e.additionalProperties)}function If(e,t){if(w(e))return true;return $(iu(e,t),t)}function Lf(e,t){if(w(e))return true;return $(iu(e,t),t)}function Rf(e,t){return w(e)||!ve(e.items)&&e.items.some(e=>$(e,t))}function zf(e,t){return w(e)||e.anyOf.some(e=>$(e,t))}function $(e,t){const n=ru(e,t);const r=e;if(e.$id&&Bf.has(e.$id))return false;if(e.$id)Bf.add(e.$id);switch(e[S]){case`Array`:return Tf(r,n);case`AsyncIterator`:return Ef(r,n);case`Constructor`:return Df(r,n);case`Function`:return Of(r,n);case`Import`:return Af(r,n);case`Intersect`:return kf(r,n);case`Iterator`:return jf(r,n);case`Not`:return Mf(r,n);case`Object`:return Nf(r,n);case`Promise`:return Pf(r,n);case`Record`:return Ff(r,n);case`Ref`:return If(r,n);case`This`:return Lf(r,n);case`Tuple`:return Rf(r,n);case`Union`:return zf(r,n);default:return w(e)}}const Bf=new Set;function Vf(e,t){Bf.clear();return $(e,t)}var Hf=class{constructor(e,t,n,r){this.schema=e;this.references=t;this.checkFunc=n;this.code=r;this.hasTransform=Vf(e,t)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(e){return Jd(this.schema,this.references,e)}Check(e){return this.checkFunc(e)}Decode(e){if(!this.checkFunc(e))throw new Yd(this.schema,e,this.Errors(e).First());return this.hasTransform?uf(this.schema,this.references,e):e}Encode(e){const t=this.hasTransform?wf(this.schema,this.references,e):e;if(!this.checkFunc(t))throw new df(this.schema,e,this.Errors(e).First());return t}};var Uf;(function(e){function t(e){return e===36}e.DollarSign=t;function n(e){return e===95}e.IsUnderscore=n;function r(e){return e>=65&&e<=90||e>=97&&e<=122}e.IsAlpha=r;function i(e){return e>=48&&e<=57}e.IsNumeric=i})(Uf||(Uf={}));var Wf;(function(e){function t(e){if(e.length===0)return false;return Uf.IsNumeric(e.charCodeAt(0))}function n(e){if(t(e))return false;for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);const r=Uf.IsAlpha(n)||Uf.IsNumeric(n)||Uf.DollarSign(n)||Uf.IsUnderscore(n);if(!r)return false}return true}function r(e){return e.replace(/'/g,`\\'`)}function i(e,t){return n(t)?`${e}.${t}`:`${e}['${r(t)}']`}e.Encode=i})(Wf||(Wf={}));var Gf;(function(e){function t(e){const t=[];for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(Uf.IsNumeric(r)||Uf.IsAlpha(r))t.push(e.charAt(n));else t.push(`_${r}_`)}return t.join(``).replace(/__/g,`_`)}e.Encode=t})(Gf||(Gf={}));var Kf;(function(e){function t(e){return e.replace(/'/g,`\\'`)}e.Escape=t})(Kf||(Kf={}));var qf=class extends x{constructor(e){super(`Unknown type`);this.schema=e}};var Jf=class extends x{constructor(e){super(`Preflight validation check failed to guard for the given schema`);this.schema=e}};var Yf;(function(e){function t(e,t,n){return y.ExactOptionalPropertyTypes?`('${t}' in ${e} ? ${n} : true)`:`(${Wf.Encode(e,t)} !== undefined ? ${n} : true)`}e.IsExactOptionalProperty=t;function n(e){return!y.AllowArrayObject?`(typeof ${e} === 'object' && ${e} !== null && !Array.isArray(${e}))`:`(typeof ${e} === 'object' && ${e} !== null)`}e.IsObjectLike=n;function r(e){return!y.AllowArrayObject?`(typeof ${e} === 'object' && ${e} !== null && !Array.isArray(${e}) && !(${e} instanceof Date) && !(${e} instanceof Uint8Array))`:`(typeof ${e} === 'object' && ${e} !== null && !(${e} instanceof Date) && !(${e} instanceof Uint8Array))`}e.IsRecordLike=r;function i(e){return y.AllowNaN?`typeof ${e} === 'number'`:`Number.isFinite(${e})`}e.IsNumberLike=i;function a(e){return y.AllowNullVoid?`(${e} === undefined || ${e} === null)`:`${e} === undefined`}e.IsVoidLike=a})(Yf||(Yf={}));var Xf;(function(e){function t(e){return e[S]===`Any`||e[S]===`Unknown`}function*n(e,t,n){yield`true`}function*r(e,t,n){yield`true`}function*i(e,t,n){yield`Array.isArray(${n})`;const[r,i]=[Ee(`value`,`any`),Ee(`acc`,`number`)];if(h(e.maxItems))yield`${n}.length <= ${e.maxItems}`;if(h(e.minItems))yield`${n}.length >= ${e.minItems}`;const a=Ce(e.items,t,`value`);yield`${n}.every((${r}) => ${a})`;if(j(e.contains)||h(e.minContains)||h(e.maxContains)){const a=j(e.contains)?e.contains:N();const o=Ce(a,t,`value`);const s=h(e.minContains)?[`(count >= ${e.minContains})`]:[];const c=h(e.maxContains)?[`(count <= ${e.maxContains})`]:[];const l=`const count = value.reduce((${i}, ${r}) => ${o} ? acc + 1 : acc, 0)`;const u=[`(count > 0)`,...s,...c].join(` && `);yield`((${r}) => { ${l}; return ${u}})(${n})`}if(e.uniqueItems===true){const e=`const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true`;const t=`const set = new Set(); for(const element of value) { ${e} }`;yield`((${r}) => { ${t} )(${n})`}}function*a(e,t,n){yield`(typeof value === 'object' && Symbol.asyncIterator in ${n})`}function*o(e,t,n){yield`(typeof ${n} === 'bigint')`;if(g(e.exclusiveMaximum))yield`${n} < BigInt(${e.exclusiveMaximum})`;if(g(e.exclusiveMinimum))yield`${n} > BigInt(${e.exclusiveMinimum})`;if(g(e.maximum))yield`${n} <= BigInt(${e.maximum})`;if(g(e.minimum))yield`${n} >= BigInt(${e.minimum})`;if(g(e.multipleOf))yield`(${n} % BigInt(${e.multipleOf})) === 0`}function*s(e,t,n){yield`(typeof ${n} === 'boolean')`}function*c(e,t,n){yield*_(e.returns,t,`${n}.prototype`)}function*l(e,t,n){yield`(${n} instanceof Date) && Number.isFinite(${n}.getTime())`;if(h(e.exclusiveMaximumTimestamp))yield`${n}.getTime() < ${e.exclusiveMaximumTimestamp}`;if(h(e.exclusiveMinimumTimestamp))yield`${n}.getTime() > ${e.exclusiveMinimumTimestamp}`;if(h(e.maximumTimestamp))yield`${n}.getTime() <= ${e.maximumTimestamp}`;if(h(e.minimumTimestamp))yield`${n}.getTime() >= ${e.minimumTimestamp}`;if(h(e.multipleOfTimestamp))yield`(${n}.getTime() % ${e.multipleOfTimestamp}) === 0`}function*u(e,t,n){yield`(typeof ${n} === 'function')`}function*d(e,t,n){const r=globalThis.Object.getOwnPropertyNames(e.$defs).reduce((t,n)=>{return[...t,e.$defs[n]]},[]);yield*_(Wi(e.$ref),[...t,...r],n)}function*ee(e,t,n){yield`Number.isInteger(${n})`;if(h(e.exclusiveMaximum))yield`${n} < ${e.exclusiveMaximum}`;if(h(e.exclusiveMinimum))yield`${n} > ${e.exclusiveMinimum}`;if(h(e.maximum))yield`${n} <= ${e.maximum}`;if(h(e.minimum))yield`${n} >= ${e.minimum}`;if(h(e.multipleOf))yield`(${n} % ${e.multipleOf}) === 0`}function*f(e,t,n){const r=e.allOf.map(e=>Ce(e,t,n)).join(` && `);if(e.unevaluatedProperties===false){const t=we(`${new RegExp(sa(e))};`);const i=`Object.getOwnPropertyNames(${n}).every(key => ${t}.test(key))`;yield`(${r} && ${i})`}else if(j(e.unevaluatedProperties)){const i=we(`${new RegExp(sa(e))};`);const a=`Object.getOwnPropertyNames(${n}).every(key => ${i}.test(key) || ${Ce(e.unevaluatedProperties,t,`${n}[key]`)})`;yield`(${r} && ${a})`}else yield`(${r})`}function*te(e,t,n){yield`(typeof value === 'object' && Symbol.iterator in ${n})`}function*ne(e,t,n){if(typeof e.const===`number`||typeof e.const===`boolean`)yield`(${n} === ${e.const})`;else yield`(${n} === '${Kf.Escape(e.const)}')`}function*p(e,t,n){yield`false`}function*re(e,t,n){const r=Ce(e.not,t,n);yield`(!${r})`}function*ie(e,t,n){yield`(${n} === null)`}function*ae(e,t,n){yield Yf.IsNumberLike(n);if(h(e.exclusiveMaximum))yield`${n} < ${e.exclusiveMaximum}`;if(h(e.exclusiveMinimum))yield`${n} > ${e.exclusiveMinimum}`;if(h(e.maximum))yield`${n} <= ${e.maximum}`;if(h(e.minimum))yield`${n} >= ${e.minimum}`;if(h(e.multipleOf))yield`(${n} % ${e.multipleOf}) === 0`}function*oe(e,n,r){yield Yf.IsObjectLike(r);if(h(e.minProperties))yield`Object.getOwnPropertyNames(${r}).length >= ${e.minProperties}`;if(h(e.maxProperties))yield`Object.getOwnPropertyNames(${r}).length <= ${e.maxProperties}`;const i=Object.getOwnPropertyNames(e.properties);for(const a of i){const i=Wf.Encode(r,a);const o=e.properties[a];if(e.required&&e.required.includes(a)){yield*_(o,n,i);if(rs(o)||t(o))yield`('${a}' in ${r})`}else{const e=Ce(o,n,i);yield Yf.IsExactOptionalProperty(r,a,e)}}if(e.additionalProperties===false)if(e.required&&e.required.length===i.length)yield`Object.getOwnPropertyNames(${r}).length === ${i.length}`;else{const e=`[${i.map(e=>`'${e}'`).join(`, `)}]`;yield`Object.getOwnPropertyNames(${r}).every(key => ${e}.includes(key))`}if(typeof e.additionalProperties===`object`){const t=Ce(e.additionalProperties,n,`${r}[key]`);const a=`[${i.map(e=>`'${e}'`).join(`, `)}]`;yield`(Object.getOwnPropertyNames(${r}).every(key => ${a}.includes(key) || ${t}))`}}function*se(e,t,n){yield`${n} instanceof Promise`}function*ce(e,t,n){yield Yf.IsRecordLike(n);if(h(e.minProperties))yield`Object.getOwnPropertyNames(${n}).length >= ${e.minProperties}`;if(h(e.maxProperties))yield`Object.getOwnPropertyNames(${n}).length <= ${e.maxProperties}`;const[r,i]=Object.entries(e.patternProperties)[0];const a=we(`${new RegExp(r)}`);const o=Ce(i,t,`value`);const s=j(e.additionalProperties)?Ce(e.additionalProperties,t,n):e.additionalProperties===false?`false`:`true`;const c=`(${a}.test(key) ? ${o} : ${s})`;yield`(Object.entries(${n}).every(([key, value]) => ${c}))`}function*le(e,t,n){const r=iu(e,t);if(v.functions.has(e.$ref))return yield`${y(e.$ref)}(${n})`;yield*_(r,t,n)}function*ue(e,t,n){const r=we(`${new RegExp(e.source,e.flags)};`);yield`(typeof ${n} === 'string')`;if(h(e.maxLength))yield`${n}.length <= ${e.maxLength}`;if(h(e.minLength))yield`${n}.length >= ${e.minLength}`;yield`${r}.test(${n})`}function*de(e,t,n){yield`(typeof ${n} === 'string')`;if(h(e.maxLength))yield`${n}.length <= ${e.maxLength}`;if(h(e.minLength))yield`${n}.length >= ${e.minLength}`;if(e.pattern!==void 0){const t=we(`${new RegExp(e.pattern)};`);yield`${t}.test(${n})`}if(e.format!==void 0)yield`format('${e.format}', ${n})`}function*fe(e,t,n){yield`(typeof ${n} === 'symbol')`}function*pe(e,t,n){yield`(typeof ${n} === 'string')`;const r=we(`${new RegExp(e.pattern)};`);yield`${r}.test(${n})`}function*me(e,t,n){yield`${y(e.$ref)}(${n})`}function*he(e,t,n){yield`Array.isArray(${n})`;if(e.items===void 0)return yield`${n}.length === 0`;yield`(${n}.length === ${e.maxItems})`;for(let r=0;r<e.items.length;r++){const i=Ce(e.items[r],t,`${n}[${r}]`);yield`${i}`}}function*ge(e,t,n){yield`${n} === undefined`}function*_e(e,t,n){const r=e.anyOf.map(e=>Ce(e,t,n));yield`(${r.join(` || `)})`}function*ve(e,t,n){yield`${n} instanceof Uint8Array`;if(h(e.maxByteLength))yield`(${n}.length <= ${e.maxByteLength})`;if(h(e.minByteLength))yield`(${n}.length >= ${e.minByteLength})`}function*ye(e,t,n){yield`true`}function*be(e,t,n){yield Yf.IsVoidLike(n)}function*xe(e,t,n){const r=v.instances.size;v.instances.set(r,e);yield`kind('${e[S]}', ${r}, ${n})`}function*_(e,t,m,h=true){const g=Se(e.$id)?[...t,e]:t;const _=e;if(h&&Se(e.$id)){const n=y(e.$id);if(v.functions.has(n))return yield`${n}(${m})`;else{v.functions.set(n,`<deferred>`);const r=Te(n,e,t,`value`,false);v.functions.set(n,r);return yield`${n}(${m})`}}switch(_[S]){case`Any`:return yield*n(_,g,m);case`Argument`:return yield*r(_,g,m);case`Array`:return yield*i(_,g,m);case`AsyncIterator`:return yield*a(_,g,m);case`BigInt`:return yield*o(_,g,m);case`Boolean`:return yield*s(_,g,m);case`Constructor`:return yield*c(_,g,m);case`Date`:return yield*l(_,g,m);case`Function`:return yield*u(_,g,m);case`Import`:return yield*d(_,g,m);case`Integer`:return yield*ee(_,g,m);case`Intersect`:return yield*f(_,g,m);case`Iterator`:return yield*te(_,g,m);case`Literal`:return yield*ne(_,g,m);case`Never`:return yield*p(_,g,m);case`Not`:return yield*re(_,g,m);case`Null`:return yield*ie(_,g,m);case`Number`:return yield*ae(_,g,m);case`Object`:return yield*oe(_,g,m);case`Promise`:return yield*se(_,g,m);case`Record`:return yield*ce(_,g,m);case`Ref`:return yield*le(_,g,m);case`RegExp`:return yield*ue(_,g,m);case`String`:return yield*de(_,g,m);case`Symbol`:return yield*fe(_,g,m);case`TemplateLiteral`:return yield*pe(_,g,m);case`This`:return yield*me(_,g,m);case`Tuple`:return yield*he(_,g,m);case`Undefined`:return yield*ge(_,g,m);case`Union`:return yield*_e(_,g,m);case`Uint8Array`:return yield*ve(_,g,m);case`Unknown`:return yield*ye(_,g,m);case`Void`:return yield*be(_,g,m);default:if(!An(_[S]))throw new qf(e);return yield*xe(_,g,m)}}const v={language:`javascript`,functions:new Map,variables:new Map,instances:new Map};function Ce(e,t,n,r=true){return`(${[..._(e,t,n,r)].join(` && `)})`}function y(e){return`check_${Gf.Encode(e)}`}function we(e){const t=`local_${v.variables.size}`;v.variables.set(t,`const ${t} = ${e}`);return t}function Te(e,t,n,r,i=true){const[a,o]=[`
`,e=>``.padStart(e,` `)];const s=Ee(`value`,`any`);const c=De(`boolean`);const l=[..._(t,n,r,i)].map(e=>`${o(4)}${e}`).join(` &&${a}`);return`function ${e}(${s})${c} {${a}${o(2)}return (${a}${l}${a}${o(2)})\n}`}function Ee(e,t){const n=v.language===`typescript`?`: ${t}`:``;return`${e}${n}`}function De(e){return v.language===`typescript`?`: ${e}`:``}function Oe(e,t,n){const r=Te(`check`,e,t,`value`);const i=Ee(`value`,`any`);const a=De(`boolean`);const o=[...v.functions.values()];const s=[...v.variables.values()];const c=Se(e.$id)?`return function check(${i})${a} {\n  return ${y(e.$id)}(value)\n}`:`return ${r}`;return[...s,...o,c].join(`
`)}function ke(...e){const t={language:`javascript`};const[n,r,i]=e.length===2&&m(e[1])?[e[0],e[1],t]:e.length===2&&!m(e[1])?[e[0],[],e[1]]:e.length===3?[e[0],e[1],e[2]]:e.length===1?[e[0],[],t]:[null,[],t];v.language=i.language;v.variables.clear();v.functions.clear();v.instances.clear();if(!j(n))throw new Jf(n);for(const e of r)if(!j(e))throw new Jf(e);return Oe(n,r,i)}e.Code=ke;function b(e,t=[]){const n=ke(e,t,{language:`javascript`});const r=globalThis.Function(`kind`,`format`,`hash`,n);const i=new Map(v.instances);function a(e,t,n){if(!An(e)||!i.has(t))return false;const r=jn(e);const a=i.get(t);return r(a,n)}function o(e,t){if(!Dn(e))return false;const n=On(e);return n(t)}function s(e){return Du(e)}const c=r(a,o,s);return new Hf(e,t,c,n)}e.Compile=b})(Xf||(Xf={}));const Zf=U.Module({project:U.Object({id:U.Ref(`uuid`),name:U.String(),owner_id:U.Ref(`uuid`),members:U.Array(U.Ref(`user`)),tasks:U.Array(U.Ref(`task`)),created_at:U.String(),description:U.Optional(U.String()),tags:U.Array(U.String())}),uuid:U.String(),user_role:U.Union([U.Literal(`admin`),U.Literal(`manager`),U.Literal(`developer`),U.Literal(`viewer`)]),task_status:U.Union([U.Literal(`todo`),U.Literal(`in_progress`),U.Literal(`review`),U.Literal(`done`)]),comment:U.Object({id:U.String(),author_id:U.String(),content:U.String(),created_at:U.String(),updated_at:U.Optional(U.String())}),task:U.Object({id:U.String(),title:U.String(),status:U.Ref(`task_status`),assignees:U.Array(U.Ref(`uuid`)),comments:U.Array(U.Ref(`comment`)),created_at:U.String(),description:U.Optional(U.String()),due_date:U.Optional(U.String())}),user:U.Object({id:U.Ref(`uuid`),name:U.String(),email:U.String(),role:U.Ref(`user_role`),is_active:U.Boolean(),last_login:U.Optional(U.String())})}).Import(`project`);var Qf=Function(Xf.Code(Zf,[]))();export{Qf as default};